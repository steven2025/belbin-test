<!DOCTYPE html>

<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>è´å°”å®¾å›¢é˜Ÿè§’è‰²æµ‹è¯•</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
<style>
        :root {
            --primary: #3498db;
            --primary-dark: #2980b9;
            --secondary: #2c3e50;
            --accent: #e74c3c;
            --highlight: #f39c12;
            --highlight2: #2ecc71;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #27ae60;
            --tech-bg: linear-gradient(135deg, #1a2a6c, #2c3e50, #3498db);
            --tech-glow: 0 0 15px rgba(52, 152, 219, 0.7);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", "Segoe UI", sans-serif;
        }
        
        body {
            background: var(--tech-bg);
            color: var(--light);
            line-height: 1.6;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(52, 152, 219, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(231, 76, 60, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(243, 156, 18, 0.05) 0%, transparent 50%);
            z-index: -1;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }
        
        .screen {
            display: none;
            background: rgba(44, 62, 80, 0.85);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3), var(--tech-glow);
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .screen::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--accent), var(--highlight));
            z-index: 1;
        }
        
        .active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h1 {
            text-align: center;
            margin-bottom: 25px;
            color: var(--light);
            font-size: 2.2rem;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            position: relative;
            padding-bottom: 15px;
        }
        
        h1::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
        }
        
        h2 {
            margin-bottom: 20px;
            color: var(--light);
            font-size: 1.8rem;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: var(--light);
        }
        
        input[type="text"],
        input[type="password"] {
            width: 100%;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            font-size: 16px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
            transition: all 0.3s;
        }
        
        input[type="text"]:focus,
        input[type="password"]:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.5);
        }
        
        .btn {
            background: linear-gradient(145deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            transform: translateY(0);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: all 0.5s;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3), var(--tech-glow);
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn:active {
            transform: translateY(1px);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        .btn-secondary {
            background: linear-gradient(145deg, #95a5a6, #7f8c8d);
        }
        
        .btn-back {
            background: linear-gradient(145deg, #34495e, #2c3e50);
            margin-bottom: 15px;
        }
        
        .question-container {
            margin-bottom: 25px;
        }
        
        .question {
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border-left: 4px solid var(--primary);
            transition: all 0.3s;
        }
        
        .question:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateX(5px);
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            margin-top: 15px;
        }
        
        .slider {
            flex: 1;
            height: 12px;
            -webkit-appearance: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            outline: none;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(145deg, var(--primary), var(--primary-dark));
            cursor: pointer;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
            border: 2px solid white;
            transition: all 0.3s;
        }
        
        .slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
        }
        
        .slider-value {
            width: 50px;
            text-align: center;
            margin-left: 15px;
            font-weight: bold;
            font-size: 18px;
            color: var(--light);
            background: rgba(0, 0, 0, 0.3);
            padding: 5px 10px;
            border-radius: 5px;
        }
        
        /* å›ºå®šæ˜¾ç¤ºçš„å‰©ä½™åˆ†æ•° */
        .points-remaining-fixed {
            position: fixed;
            top: 72px;
            right: 20px;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            color: var(--highlight);
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            padding: 15px 25px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3), var(--tech-glow);
            z-index: 1000;
            transition: all 0.3s;
        }
        
        /* æ»šåŠ¨è·Ÿéšçš„å‰©ä½™åˆ†æ•° */
        .points-remaining-sticky {
            position: sticky;
            top: 10px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            color: var(--highlight);
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            padding: 12px 20px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3), var(--tech-glow);
            margin-bottom: 15px;
            z-index: 999;
            display: none; /* é»˜è®¤éšè—ï¼Œåœ¨ç§»åŠ¨ç«¯æ˜¾ç¤º */
        }
        
        /* ç§»åŠ¨ç«¯æ˜¾ç¤ºæ»šåŠ¨è·Ÿéšçš„å‰©ä½™åˆ†æ•° */
        @media (max-width: 768px) {
            .points-remaining-sticky {
                display: block;
            }
            
            .points-remaining-fixed {
                top: 10px;
                right: 10px;
                left: auto;
                font-size: 16px;
                padding: 10px 15px;
            }
        }
        
        /* è¶…å°å±å¹•ä¼˜åŒ– */
        @media (max-width: 480px) {
            .points-remaining-sticky {
                font-size: 16px;
                padding: 10px 15px;
                top: 5px;
            }
            
            .points-remaining-fixed {
                font-size: 14px;
                padding: 8px 12px;
            }
        }
        
        .chart-container {
            width: 100%;
            height: 400px;
            margin: 25px 0;
        }
        
        .role-interpretation {
            margin-top: 25px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .role-item {
            margin-bottom: 20px;
            padding: 20px;
            border-left: 4px solid var(--primary);
            background: rgba(0, 0, 0, 0.2);
            border-radius: 0 10px 10px 0;
            transition: all 0.3s;
        }
        
        .role-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .role-name {
            font-weight: bold;
            color: var(--light);
            margin-bottom: 10px;
            font-size: 1.4rem;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }
        
        .role-score {
            color: var(--highlight);
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
        }
        
        .nav-buttons .btn {
            width: 48%;
        }
        
        .welcome-message {
            text-align: center;
            margin-bottom: 30px;
            font-size: 18px;
            line-height: 1.8;
        }
        
        .user-info {
            background: linear-gradient(90deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            text-align: center;
            font-size: 1.2rem;
        }
        
        .chart-type-selector {
            display: flex;
            justify-content: center;
            margin-bottom: 25px;
        }
        
        .chart-type-btn {
            margin: 0 8px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .chart-type-btn.active {
            background: linear-gradient(145deg, var(--primary), var(--primary-dark));
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .chart-type-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .test-instructions {
            background: rgba(52, 152, 219, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 4px solid var(--primary);
        }
        
        .motto {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .motto-line1 {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--light);
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .motto-line2 {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .interpretation-content {
            line-height: 1.8;
            font-size: 1.1rem;
        }
        
        .interpretation-content p {
            text-indent: 2em;
            margin-bottom: 15px;
        }
        
        .interpretation-section {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .interpretation-section h3 {
            text-indent: 0;
            margin-bottom: 15px;
            color: var(--highlight);
        }
        
        .signature {
            text-align: right;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
        }
        
        .footer-note {
            text-align: center;
            margin-top: 20px;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .screen {
                padding: 20px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            .nav-buttons {
                flex-direction: column;
            }
            
            .nav-buttons .btn {
                width: 100%;
                margin-bottom: 10px;
            }
            
            .chart-type-selector {
                flex-wrap: wrap;
            }
            
            .chart-type-btn {
                margin-bottom: 10px;
            }
        }
    </style>
<link href="./manifest.webmanifest" rel="manifest"/><link href="./favicon.ico" rel="icon"/></head>
<body>
<div class="container">
<!-- ç™»å½•ç•Œé¢ -->
<div class="screen active" id="login-screen">
<h1>è´å°”å®¾å›¢é˜Ÿè§’è‰²æµ‹è¯•</h1>
<div class="form-group">
<label for="username">ç”¨æˆ·å</label>
<input id="username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" type="text"/>
</div>
<div class="form-group">
<label for="password">å¯†ç </label>
<input id="password" placeholder="è¯·è¾“å…¥å¯†ç " type="password"/>
</div>
<button class="btn" id="login-btn">ç™»å½•</button>
<button class="btn btn-secondary" id="register-btn">æ³¨å†Œæ–°è´¦å·</button>
</div>
<!-- æ³¨å†Œç•Œé¢ -->
<div class="screen" id="register-screen">
<button class="btn btn-back" id="back-to-login-from-register">â† è¿”å›ç™»å½•</button>
<h1>æ³¨å†Œæ–°è´¦å·</h1>
<div class="form-group">
<label for="new-username">ç”¨æˆ·å</label>
<input id="new-username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" type="text"/>
</div>
<div class="form-group">
<label for="new-password">å¯†ç </label>
<input id="new-password" placeholder="è¯·è¾“å…¥å¯†ç " type="password"/>
</div>
<div class="form-group">
<label for="confirm-password">ç¡®è®¤å¯†ç </label>
<input id="confirm-password" placeholder="è¯·å†æ¬¡è¾“å…¥å¯†ç " type="password"/>
</div>
<button class="btn" id="confirm-register-btn">ç¡®è®¤æ³¨å†Œ</button>
</div>
<!-- æ¬¢è¿ç•Œé¢ -->
<div class="screen" id="welcome-screen">
<button class="btn btn-back" id="back-to-login-from-welcome">â† è¿”å›ç™»å½•</button>
<h1>è´å°”å®¾å›¢é˜Ÿè§’è‰²æµ‹è¯•</h1>
<div class="motto">
<div class="motto-line1">ä¸ªäººå²‚æœ‰å®Œç¾ å›¢é˜Ÿå¯è‡»è‡³å–„</div>
<div class="motto-line2">æµ‹è¯•ç¨‹åºå¼€å‘ï¼šé‡åº†å·¥å•†å¤§å­¦ é„¢æ¸…å</div>
</div>
<div class="user-info" id="user-info">
<!-- ç”¨æˆ·ä¿¡æ¯å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
</div>
<div class="welcome-message">
<p>æ¬¢è¿å‚åŠ è´å°”å®¾å›¢é˜Ÿè§’è‰²æµ‹è¯•ï¼</p>
<p>æœ¬æµ‹è¯•å°†å¸®åŠ©æ‚¨äº†è§£è‡ªå·±åœ¨å›¢é˜Ÿä¸­çš„è§’è‰²å€¾å‘ã€‚</p>
<p>æµ‹è¯•å…±æœ‰7ä¸ªéƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†æœ‰9ä¸ªé™ˆè¿°ã€‚</p>
<p>æ¯ä¸ªéƒ¨åˆ†æ‚¨æœ‰10åˆ†å¯ä»¥åˆ†é…ç»™è¿™äº›é™ˆè¿°ï¼Œè¯·æ ¹æ®æ‚¨çš„å®é™…æƒ…å†µåˆ†é…åˆ†æ•°ã€‚</p>
</div>
<button class="btn" id="start-test-btn">å¼€å§‹æµ‹è¯•</button>
</div>
<!-- æµ‹è¯•ç•Œé¢ -->
<div class="screen" id="test-screen">
<button class="btn btn-back" id="back-to-welcome-from-test">â† è¿”å›é¦–é¡µ</button>
<h2 id="test-part-title">ç¬¬ä¸€éƒ¨åˆ†ï¼šæˆ‘èƒ½ä¸ºå›¢é˜Ÿåšå‡ºçš„è´¡çŒ®</h2>
<div class="test-instructions">
<p><strong>æµ‹è¯„æ–¹æ³•ï¼š</strong>æ‚¨æœ‰10åˆ†å¯ä»¥åˆ†é…ç»™ä¸‹é¢çš„9ä¸ªé™ˆè¿°ï¼Œæ¯ä¸ªé™ˆè¿°çš„èµ‹åˆ†å–å†³äºæ‚¨åŒæ„è¯¥é™ˆè¿°çš„ç¨‹åº¦ã€‚æŸäº›é™ˆè¿°æ‚¨å¯ä»¥ä¸ç»™åˆ†ï¼Œä½†æ€»åˆ†å¿…é¡»æ°å¥½ä¸º10åˆ†ã€‚</p>
</div>
<!-- å›ºå®šæ˜¾ç¤ºçš„å‰©ä½™åˆ†æ•° -->
<div class="points-remaining-fixed" id="points-remaining-fixed" style="">å‰©ä½™åˆ†æ•°: 10</div>
<div class="question-container" id="questions-container">
<!-- æ»šåŠ¨è·Ÿéšçš„å‰©ä½™åˆ†æ•°ï¼ˆç§»åŠ¨ç«¯æ˜¾ç¤ºï¼‰ -->
<div class="points-remaining-sticky" id="points-remaining-sticky">å‰©ä½™åˆ†æ•°: 10</div>
<!-- é—®é¢˜å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
</div>
<div class="nav-buttons">
<button class="btn btn-secondary" id="prev-part-btn" style="display: none;">ä¸Šä¸€éƒ¨åˆ†</button>
<button class="btn" id="next-part-btn">ä¸‹ä¸€éƒ¨åˆ†</button>
</div>
</div>
<!-- æµ‹è¯•å®Œæˆç•Œé¢ -->
<div class="screen" id="test-complete-screen">
<button class="btn btn-back" id="back-to-test-from-complete">â† è¿”å›æµ‹è¯•</button>
<h1>æµ‹è¯•å®Œæˆ</h1>
<p>æ­å–œæ‚¨å·²å®Œæˆæ‰€æœ‰æµ‹è¯•éƒ¨åˆ†ï¼</p>
<p>ç°åœ¨æ‚¨å¯ä»¥æŸ¥çœ‹è¯¦ç»†çš„æµ‹è¯•æŠ¥å‘Šã€‚</p>
<button class="btn" id="view-report-btn">æŸ¥çœ‹æŠ¥å‘Š</button>
</div>
<!-- æŠ¥å‘Šç•Œé¢ -->
<div class="screen" id="report-screen">
<button class="btn btn-back" id="back-to-complete-from-report">â† è¿”å›ä¸Šä¸€é¡µ</button>
<div class="user-info" id="report-user-info">
<!-- ç”¨æˆ·ä¿¡æ¯å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
</div>
<h2>æ‚¨çš„è´å°”å®¾å›¢é˜Ÿè§’è‰²æµ‹è¯•ç»“æœ</h2>
<div class="chart-type-selector">
<button class="chart-type-btn active" data-type="radar">è››ç½‘å›¾</button>
<button class="chart-type-btn" data-type="bar">æŸ±çŠ¶å›¾</button>
<button class="chart-type-btn" data-type="polarArea">æåœ°åŒºåŸŸå›¾</button>
</div>
<div class="chart-container">
<canvas id="results-chart"></canvas>
</div>
<div class="role-interpretation">
<h3>æ‚¨çš„æ ¸å¿ƒè§’è‰²</h3>
<div id="top-roles">
<!-- æœ€é«˜åˆ†è§’è‰²å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
</div>
<button class="btn" id="view-interpretation-btn">æŸ¥çœ‹è§’è‰²è¯¦ç»†è§£è¯»</button>
</div>
<div class="nav-buttons">
<button class="btn btn-secondary" id="back-to-welcome-from-report">è¿”å›é¦–é¡µ</button>
<button class="btn" id="restart-test-btn">é‡æ–°æµ‹è¯•</button>
</div>
</div>
<!-- è§’è‰²è§£è¯»ç•Œé¢ -->
<div class="screen" id="interpretation-screen">
<button class="btn btn-back" id="back-to-report-from-interpretation">â† è¿”å›æŠ¥å‘Š</button>
<div class="user-info" id="interpretation-user-info">
<!-- ç”¨æˆ·ä¿¡æ¯å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
</div>
<h2>è§’è‰²è¯¦ç»†è§£è¯»</h2>
<div class="interpretation-content" id="role-details">
<!-- è§’è‰²è§£è¯»å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
</div>
<div class="footer-note">
                é‡åº†å·¥å•†å¤§å­¦ è´å°”å®¾å›¢é˜Ÿè§’è‰²æµ‹è¯•ç³»ç»Ÿ
            </div>
</div>
<div class="lang-fab" style="position:fixed;top:12px;right:12px;z-index:2147483647;">
<button id="lang-toggle" style="border:none;border-radius:999px;padding:12px 14px;background:linear-gradient(145deg,#222f3e,#34495e);color:#fff;cursor:pointer;box-shadow:0 8px 20px rgba(0,0,0,.35);display:flex;align-items:center;gap:8px;font-weight:bold">
<span>ğŸŒ</span><span id="lang-current">ä¸­æ–‡</span>
</button>
<div id="lang-panel" style="position:absolute;top:52px;right:0;background:rgba(0,0,0,.85);border:1px solid rgba(255,255,255,.15);border-radius:12px;padding:8px;display:none">
<div class="lang-item" data-lang="zh" style="padding:8px 12px;border-radius:8px;cursor:pointer;white-space:nowrap">ä¸­æ–‡ (ZH)</div>
<div class="lang-item" data-lang="en" style="padding:8px 12px;border-radius:8px;cursor:pointer;white-space:nowrap">English (EN)</div>
<div class="lang-item" data-lang="fr" style="padding:8px 12px;border-radius:8px;cursor:pointer;white-space:nowrap">FranÃ§ais (FR)</div>
<div class="lang-item" data-lang="th" style="padding:8px 12px;border-radius:8px;cursor:pointer;white-space:nowrap">à¹„à¸—à¸¢ (TH)</div>
<div class="lang-item" data-lang="ru" style="padding:8px 12px;border-radius:8px;cursor:pointer;white-space:nowrap">Ğ ÑƒÑÑĞºĞ¸Ğ¹ (RU)</div>
<div class="lang-item" data-lang="id" style="padding:8px 12px;border-radius:8px;cursor:pointer;white-space:nowrap">Bahasa Indonesia (ID)</div>
</div>
</div>
</div>
<script>
        // æµ‹è¯•æ•°æ® - åŸºäºæ‚¨æä¾›çš„Excelæ–‡ä»¶
        const testData = {
            parts: [
                {
                    title: "ç¬¬ä¸€éƒ¨åˆ†ï¼šæˆ‘è®¤ä¸ºæˆ‘èƒ½ä¸ºå›¢é˜Ÿåšå‡ºè´¡çŒ®æ˜¯",
                    questions: [
                        "æˆ‘èƒ½å¾ˆå¿«åœ°å‘ç°å¹¶æŠŠæ¡ä½æ–°çš„æœºé‡",
                        "æˆ‘èƒ½ä¸å„ç§ç±»å‹çš„äººä¸€èµ·åˆä½œå…±äº‹",
                        "æˆ‘é€šå¸¸èƒ½æ„è¯†åˆ°ä»€ä¹ˆæ˜¯ç°å®çš„ï¼Œä»€ä¹ˆæ˜¯å¯èƒ½çš„",
                        "æˆ‘èƒ½æŠŠäº‹æƒ…åŠæˆï¼Œè¿™ä¸»è¦é æˆ‘ä¸ªäººçš„å®åŠ›",
                        "æˆ‘çš„èƒ½åŠ›åœ¨äºï¼Œä¸€æ—¦å‘ç°æŸäº›å¯¹å®ç°é›†ä½“ç›®æ ‡å¾ˆæœ‰ä»·å€¼çš„äººï¼Œæˆ‘å°±åŠæ—¶æŠŠä»–ä»¬æ¨èå‡ºæ¥",
                        "æˆ‘çš„ä¸“ä¸šçŸ¥è¯†å’ŒæŠ€èƒ½æ˜¯æˆ‘çš„ä¸»è¦è´¢å¯Œ",
                        "åœ¨é€‰æ‹©è¡ŒåŠ¨æ–¹æ¡ˆæ—¶ï¼Œæˆ‘èƒ½ä¸å¸¦å€¾å‘æ€§ï¼Œä¹Ÿä¸å¸¦åè§åœ°æå‡ºä¸€ä¸ªåˆç†çš„æ›¿ä»£æ–¹æ¡ˆ",
                        "æˆ‘ç”Ÿæ¥å°±çˆ±å‡ºä¸»æ„",
                        "å¦‚æœæœ€ç»ˆèƒ½å¯¼è‡´æœ‰ç›Šçš„ç»“æœï¼Œæˆ‘æ„¿é¢å¯¹æš‚æ—¶çš„å†·é‡"
                    ]
                },
                {
                    title: "ç¬¬äºŒéƒ¨åˆ†ï¼šåœ¨å›¢é˜Ÿä¸­ï¼Œæˆ‘å¯èƒ½æœ‰çš„å¼±ç‚¹æ˜¯",
                    questions: [
                        "å¦‚æœä¼šè®®æ²¡æœ‰å¾—åˆ°å¾ˆå¥½çš„ç»„ç»‡ã€æ§åˆ¶å’Œä¸»æŒï¼Œæˆ‘ä¼šæ„Ÿåˆ°ä¸ç—›å¿«",
                        "æˆ‘çš„å®¢è§‚ç®—æ³•ï¼Œä½¿æˆ‘å¾ˆéš¾ä¸åŒäº‹ä»¬æ‰“æˆä¸€ç‰‡",
                        "å¯èƒ½ç”±äºæˆ‘è¿‡åˆ†é‡è§†é›†ä½“çš„æ°”æ°›ï¼Œæˆ‘å‘ç°è‡ªå·±å¾ˆéš¾ä¸ä¼—ä¸åŒ",
                        "æˆ‘æ˜“äºé™·å…¥çªå‘çš„æƒ³è±¡ä¹‹ä¸­ï¼Œè€Œå¿˜äº†æ­£åœ¨è¿›è¡Œçš„äº‹æƒ…",
                        "æˆ‘çš„åŒäº‹è®¤ä¸ºæˆ‘è¿‡åˆ†æ³¨æ„ç»†èŠ‚ï¼Œæ€»æœ‰ä¸å¿…è¦çš„æ‹…å¿ƒï¼Œæ€•æŠŠäº‹æƒ…æç³Ÿ",
                        "åœ¨ä¸€å®šè¦æŠŠäº‹æƒ…åŠæˆçš„æƒ…å†µä¸‹ï¼Œæˆ‘æœ‰æ—¶ä½¿äººæ„Ÿåˆ°ç‰¹åˆ«å¼ºç¡¬ä»¥è‡³ä¸“æ–­",
                        "æˆ‘å®¹æ˜“å¯¹é‚£äº›æœ‰é«˜è§è€Œåˆæ²¡æœ‰é€‚å½“åœ°å‘è¡¨å‡ºæ¥çš„äººè¡¨ç°å¾—è¿‡äºå®½å®¹",
                        "æˆ‘ä¸æ˜¯å¾ˆæƒ…æ„¿å»è´¡çŒ®é™¤éè¯é¢˜è·Ÿæˆ‘éå¸¸ç›¸å…³",
                        "åªè¦é›†ä½“åœ¨è®¨è®ºæ–°çš„è§‚ç‚¹ï¼Œæˆ‘æ€»æ˜¯è¯´çš„å¤ªå¤š"
                    ]
                },
                {
                    title: "ç¬¬ä¸‰éƒ¨åˆ†ï¼šå½“æˆ‘ä¸å…¶ä»–äººå…±åŒè¿›è¡Œä¸€é¡¹å·¥ä½œæ—¶",
                    questions: [
                        "åœ¨æå‡ºç‹¬åˆ°è§è§£æ–¹é¢ï¼Œæˆ‘æ˜¯æ•°ä¸€æ•°äºŒçš„",
                        "æˆ‘éšæ—¶æ³¨æ„é˜²æ­¢ç²—å¿ƒå’Œå·¥ä½œä¸­çš„ç–å¿½",
                        "æˆ‘æœ‰åœ¨ä¸æ–½åŠ ä»»ä½•å‹åŠ›çš„æƒ…å†µä¸‹ï¼Œå»å½±å“å…¶ä»–äººçš„èƒ½åŠ›",
                        "æˆ‘çƒ­è¡·å¯»æ±‚æœ€æ–°çš„æ€æƒ³å’Œæ–°çš„å‘å±•",
                        "æˆ‘åŠªåŠ›ä¿æŒæˆ‘çš„èŒä¸šé“å¾·",
                        "æˆ‘ç›¸ä¿¡æˆ‘çš„åˆ¤æ–­èƒ½åŠ›æœ‰åŠ©äºåšå‡ºæ­£ç¡®çš„å†³ç­–",
                        "å¯¹äºä¸å¤§å®¶å…±åŒåˆ©ç›Šæœ‰å…³çš„ç§¯æå»ºè®®æˆ‘æ€»æ˜¯ä¹äºæ”¯æŒçš„",
                        "æˆ‘æ„¿æ„æ–½åŠ å‹åŠ›ä»¥æ¢å–è¡ŒåŠ¨ï¼Œç¡®ä¿ä¼šè®®ä¸æ˜¯åœ¨æµªè´¹æ—¶é—´æˆ–ç¦»é¢˜å¤ªè¿œ",
                        "æˆ‘èƒ½ä½¿äººæ”¾å¿ƒçš„æ˜¯ï¼Œå¯¹é‚£äº›æœ€åŸºæœ¬çš„å·¥ä½œï¼Œæˆ‘éƒ½èƒ½ç»„ç»‡å¾—'äº•äº•æœ‰æ¡'"
                    ]
                },
                {
                    title: "ç¬¬å››éƒ¨åˆ†ï¼šæˆ‘åœ¨å·¥ä½œå›¢é˜Ÿä¸­çš„ç‰¹å¾æ˜¯",
                    questions: [
                        "æˆ‘æœ‰å…´è¶£æ›´å¤šåœ°äº†è§£æˆ‘çš„åŒäº‹",
                        "å°½ç®¡æˆ‘å¯¹æ‰€æœ‰çš„è§‚ç‚¹éƒ½æ„Ÿå…´è¶£ï¼Œä½†è¿™å¹¶ä¸å½±å“æˆ‘åœ¨å¿…è¦çš„æ—¶å€™ä¸‹å†³å¿ƒ",
                        "æˆ‘ç»å¸¸å‘åˆ«äººçš„è§è§£è¿›è¡ŒæŒ‘æˆ˜æˆ–åšæŒè‡ªå·±çš„æ„è§",
                        "æˆ‘è®¤ä¸ºï¼Œåªè¦è®¡åˆ’å¿…é¡»å¼€å§‹æ‰§è¡Œï¼Œæˆ‘æœ‰æ¨åŠ¨å·¥ä½œè¿è½¬çš„æ‰èƒ½",
                        "æˆ‘æœ‰æ„é¿å…ä½¿è‡ªå·±å¤ªçªå‡ºæˆ–å‡ºäººæ„æ–™",
                        "æˆ‘ä¹äºä¸å·¥ä½œå›¢é˜Ÿä»¥å¤–çš„äººè¿›è¡Œè”ç³»",
                        "å¯¹æ‰¿æ‹…çš„ä»»ä½•å·¥ä½œï¼Œæˆ‘éƒ½èƒ½åšåˆ°å°½å–„å°½ç¾",
                        "åœ¨è¾©è®ºä¸­ï¼Œæˆ‘é€šå¸¸èƒ½æ‰¾åˆ°è®ºæ®å»æ¨ç¿»é‚£äº›ä¸ç”šæœ‰ç†çš„ä¸»å¼ ",
                        "å½“æˆ‘çŸ¥é“æˆ‘ä»¬åœ¨è°ˆè®ºä»€ä¹ˆçš„æ—¶å€™æˆ‘çš„è´¡çŒ®æ¯”è¾ƒå¤§"
                    ]
                },
                {
                    title: "ç¬¬äº”éƒ¨åˆ†ï¼šåœ¨å·¥ä½œä¸­ï¼Œæˆ‘å¾—åˆ°æ»¡è¶³ï¼Œå› ä¸º",
                    questions: [
                        "æˆ‘å–œæ¬¢åˆ†ææƒ…å†µï¼Œæƒè¡¡æ‰€æœ‰å¯èƒ½çš„é€‰æ‹©",
                        "æˆ‘è§‰å¾—æˆ‘åœ¨è¿ç”¨æˆ‘çš„ä¸“ä¸šæŠ€èƒ½å’ŒçŸ¥è¯†ä½¿å›¢é˜Ÿè¿›æ­¥",
                        "æˆ‘å¾ˆé«˜å…´èƒ½æ‰¾åˆ°ä¸€å—å¯ä»¥å‘æŒ¥æˆ‘æƒ³è±¡åŠ›çš„å¤©åœ°",
                        "æˆ‘æ„Ÿåˆ°æˆ‘çš„èº«ä¸Šæœ‰ä¸€ç§èƒ½ä½¿æˆ‘å…¨èº«å¿ƒåœ°æŠ•å…¥åˆ°å·¥ä½œä¸­å»çš„æ°”è´¨",
                        "æˆ‘å¯¹å¯»æ‰¾è§£å†³é—®é¢˜çš„å¯è¡Œæ–¹æ¡ˆæ„Ÿå…´è¶£",
                        "æˆ‘æ„Ÿåˆ°ï¼Œæˆ‘åœ¨ä¿ƒè¿›è‰¯å¥½çš„å·¥ä½œå…³ç³»",
                        "æˆ‘èƒ½é€‚åº”é‚£äº›æœ‰æ–°æ„çš„äºº",
                        "æˆ‘èƒ½ä½¿äººä»¬åœ¨æŸé¡¹å¿…è¦çš„è¡ŒåŠ¨ä¸Šè¾¾æˆä¸€è‡´æ„è§",
                        "æˆ‘èƒ½å¯¹å†³ç­–æœ‰å¼ºçƒˆçš„å½±å“"
                    ]
                },
                {
                    title: "ç¬¬å…­éƒ¨åˆ†ï¼šå¦‚æœçªç„¶ç»™æˆ‘ä¸€ä»¶å›°éš¾çš„å·¥ä½œï¼Œè€Œä¸”æ—¶é—´æœ‰é™ï¼Œäººå‘˜ä¸ç†Ÿ",
                    questions: [
                        "æˆ‘ä¼šé˜…è¯»å°½é‡å¤šçš„ç›¸å…³å†…å®¹å¯»æ±‚æŒ‡å¯¼",
                        "å°½ç®¡å›°éš¾é‡é‡ï¼Œæˆ‘ä¹Ÿèƒ½ä¿è¯ç›®æ ‡å§‹ç»ˆå¦‚ä¸€",
                        "æˆ‘æ„¿æ„å±•å¼€å¹¿æ³›çš„è®¨è®ºæ„åœ¨æ¿€å‘æ–°æ€æƒ³ï¼Œæ¨åŠ¨å·¥ä½œ",
                        "æˆ‘è®¤ä¸ºæˆ‘èƒ½ä¿æŒå¤´è„‘å†·é™ï¼Œå¯Œæœ‰æ¡ç†åœ°æ€è€ƒé—®é¢˜",
                        "æˆ‘ä¼šè®¾æƒ³é€šè¿‡ç”¨äººæ‰€é•¿çš„æ–¹æ³•æ¥å‡è½»å·¥ä½œè´Ÿæ‹…",
                        "åœ¨æœ‰æ–°æ–¹æ¡ˆä¹‹å‰ï¼Œæˆ‘å®æ„¿å…ˆèº²è¿›è§’è½ï¼Œæ‹Ÿå®šå‡ºä¸€ä¸ªè§£è„±å›°å¢ƒçš„æ–¹æ¡ˆ",
                        "å¦‚æœé›†ä½“å·¥ä½œæ²¡æœ‰è¿›å±•ï¼Œæˆ‘ä¼šé‡‡å–ç§¯ææªæ–½å»åŠ ä»¥æ¨åŠ¨",
                        "æˆ‘å¤©ç”Ÿçš„ç´§è¿«æ„Ÿï¼Œå°†æœ‰åŠ©äºæˆ‘ä»¬ä¸ä¼šè½åœ¨è®¡åˆ’åé¢",
                        "æˆ‘æ¯”è¾ƒæ„¿æ„ä¸é‚£äº›è¡¨ç°å‡ºç§¯ææ€åº¦çš„äººä¸€é“å·¥ä½œ"
                    ]
                },
                {
                    title: "ç¬¬ä¸ƒéƒ¨åˆ†ï¼šå¯¹äºé‚£äº›åœ¨å›¢é˜Ÿå·¥ä½œä¸­æˆ–ä¸å‘¨å›´äººå…±äº‹æ—¶æ‰€é‡åˆ°çš„é—®é¢˜",
                    questions: [
                        "æˆ‘å¾ˆå®¹æ˜“å¯¹é‚£äº›é˜»ç¢å‰è¿›çš„äººè¡¨ç°å‡ºä¸è€çƒ¦",
                        "å½“æˆ‘ä¸çœŸæ­£çš„å¯¹ç«‹é¢å‘ç”Ÿå†²çªæ—¶ï¼Œæˆ‘æ²¡æœ‰æŠŠæ¡ä½¿å¯¹æ–¹ç†è§£æˆ‘çš„è§‚ç‚¹",
                        "æˆ‘ä¸å–œæ¬¢æ„Ÿè§‰æˆ‘çš„æ—¶é—´è¢«æµªè´¹è€Œæƒ…æ„¿è‡ªå·±ä¸€ä¸ªäººå·¥ä½œ",
                        "å¯¹äºé‚£äº›æˆ‘ä¸èƒ½åšçš„äº‹ï¼Œæˆ‘æœ‰æ„è¯†åœ°æ±‚åŠ©äºä»–äºº",
                        "æˆ‘å¸¸å¸¸å®¹æ˜“äº§ç”ŸåŒçƒ¦æ„Ÿï¼Œéœ€è¦ä¸€ã€äºŒä¸ªæœ‰æ¿€æƒ…çš„äººä½¿æˆ‘æŒ¯ä½œèµ·æ¥",
                        "æˆ‘å¼ºçƒˆæœ‰åšå¥½å·¥ä½œè¿½æ±‚å®Œç¾çš„æ„¿æœ›ï¼Œå¯èƒ½ä¼šé˜»ç¢å·¥ä½œçš„æŒç»­è¿›å±•",
                        "åˆ«äººå¯èƒ½æ‰¹è¯„æˆ‘å¤ªé‡åˆ†æè€Œç¼ºå°‘ç›´è§‰",
                        "å¦‚æœç›®æ ‡ä¸æ˜ç¡®ï¼Œè®©æˆ‘èµ·æ­¥æ˜¯å¾ˆå›°éš¾çš„",
                        "å¯¹äºæˆ‘é‡åˆ°çš„å¤æ‚é—®é¢˜ï¼Œæˆ‘æœ‰æ—¶ä¸å–„äºåŠ ä»¥è§£é‡Šå’Œæ¾„æ¸…"
                    ]
                }
            ],
            roles: [
                { 
                    name: "æ‰§è¡Œè€…", 
                    code: "IMP", 
                    description: "åŠ¡å®ã€å¯é ï¼Œèƒ½å°†æƒ³æ³•è½¬åŒ–ä¸ºå®é™…è¡ŒåŠ¨",
                    strengths: "åŠ¡å®ã€å¯é ã€æœ‰ç»„ç»‡èƒ½åŠ›ï¼Œèƒ½å°†æƒ³æ³•è½¬åŒ–ä¸ºå®é™…è¡ŒåŠ¨ï¼Œéµå®ˆçºªå¾‹ï¼Œå·¥ä½œåŠªåŠ›",
                    weaknesses: "å¯èƒ½ç¼ºä¹çµæ´»æ€§ï¼Œå¯¹æ–°çš„å¯èƒ½æ€§ååº”è¿Ÿé’ï¼Œæœ‰æ—¶è¿‡äºä¿å®ˆ",
                    contributions: "å°†å†³ç­–å’Œæ¦‚å¿µè½¬åŒ–ä¸ºå¯ç®¡ç†çš„å·¥ä½œä»»åŠ¡ï¼Œç³»ç»Ÿé«˜æ•ˆåœ°æ‰§è¡Œå•†å®šçš„è®¡åˆ’"
                },
                { 
                    name: "åè°ƒè€…", 
                    code: "CO", 
                    description: "æˆç†Ÿã€è‡ªä¿¡ï¼Œèƒ½æ˜ç¡®ç›®æ ‡å¹¶ä¿ƒè¿›å†³ç­–",
                    strengths: "æˆç†Ÿã€è‡ªä¿¡ã€èƒ½æ˜ç¡®ç›®æ ‡ï¼Œä¿ƒè¿›å†³ç­–å’Œå§”æ‰˜ï¼Œå–„äºè¯†åˆ«äººæ‰å’Œèµ„æº",
                    weaknesses: "å¯èƒ½è¢«è§†ä¸ºæ“çºµä»–äººï¼Œå°†è‡ªå·±å·¥ä½œå§”æ‰˜ç»™ä»–äººï¼Œæœ‰æ—¶ç¼ºä¹å®æ“èƒ½åŠ›",
                    contributions: "å¸®åŠ©æ˜ç¡®å›¢é˜Ÿç›®æ ‡ï¼Œä¿ƒè¿›å†³ç­–ï¼Œç¡®ä¿æ‰€æœ‰æˆå‘˜çš„æ½œåŠ›å¾—åˆ°å‘æŒ¥"
                },
                { 
                    name: "å¡‘é€ è€…", 
                    code: "SH", 
                    description: "å……æ»¡æ´»åŠ›ã€æŠ—å‹èƒ½åŠ›å¼ºï¼Œèƒ½å…‹æœéšœç¢",
                    strengths: "å……æ»¡æ´»åŠ›ã€æŠ—å‹èƒ½åŠ›å¼ºï¼Œèƒ½æŒ‘æˆ˜æƒ°æ€§å’Œè‡ªæ»¡ï¼Œæ¨åŠ¨å›¢é˜Ÿå‰è¿›",
                    weaknesses: "å¯èƒ½å®¹æ˜“æŒ‘è¡…ï¼Œä¼¤å®³ä»–äººæ„Ÿæƒ…ï¼Œç¼ºä¹è€å¿ƒï¼Œå®¹æ˜“å¼•å‘å†²çª",
                    contributions: "æä¾›åŠ¨åŠ›å’Œå¹²åŠ²ï¼ŒæŒ‘æˆ˜å›¢é˜Ÿæé«˜ç»©æ•ˆæ°´å¹³ï¼Œåœ¨å‹åŠ›ä¸‹è“¬å‹ƒå‘å±•"
                },
                { 
                    name: "æ™ºå¤šæ˜Ÿ", 
                    code: "PL", 
                    description: "æœ‰åˆ›é€ åŠ›ã€æƒ³è±¡åŠ›ä¸°å¯Œï¼Œèƒ½è§£å†³éš¾é¢˜",
                    strengths: "æœ‰åˆ›é€ åŠ›ã€æƒ³è±¡åŠ›ä¸°å¯Œï¼Œèƒ½è§£å†³å¤æ‚é—®é¢˜ï¼Œæå‡ºåˆ›æ–°æƒ³æ³•",
                    weaknesses: "å¯èƒ½å¿½ç•¥ç»†èŠ‚ï¼Œè¿‡äºæ²‰æµ¸äºæ€è€ƒè€Œæ²Ÿé€šä¸è¶³ï¼Œä¸æ³¨é‡å®é™…æ‰§è¡Œ",
                    contributions: "æå‡ºæ–°æƒ³æ³•å’Œç­–ç•¥ï¼Œç‰¹åˆ«å…³æ³¨é‡å¤§é—®é¢˜ï¼Œä¸ºå›¢é˜Ÿé—®é¢˜å¯»æ‰¾åˆ›æ–°è§£å†³æ–¹æ¡ˆ"
                },
                { 
                    name: "èµ„æºè°ƒæŸ¥è€…", 
                    code: "RI", 
                    description: "å¤–å‘ã€çƒ­æƒ…ï¼Œèƒ½æ¢ç´¢æœºä¼šå¹¶å»ºç«‹è”ç³»",
                    strengths: "å¤–å‘ã€çƒ­æƒ…ã€å–„äºæ²Ÿé€šï¼Œèƒ½æ¢ç´¢æœºä¼šå’Œå‘å±•è”ç³»ï¼Œå»ºç«‹å¹¿æ³›ç½‘ç»œ",
                    weaknesses: "å¯èƒ½è¿‡äºä¹è§‚ï¼Œå¤±å»å…´è¶£åçƒ­æƒ…è¿…é€Ÿæ¶ˆé€€ï¼Œç¼ºä¹æŒç»­è·Ÿè¿›",
                    contributions: "æ¢ç´¢å¤–éƒ¨æœºä¼šï¼Œå‘å±•æœ‰ç”¨çš„è”ç³»äººï¼Œè¿›è¡Œæœ‰åŠ©äºå›¢é˜Ÿåˆ©ç›Šçš„è°ˆåˆ¤"
                },
                { 
                    name: "ç›‘ç£è¯„ä»·è€…", 
                    code: "ME", 
                    description: "å†·é™ã€æœ‰æˆ˜ç•¥çœ¼å…‰ï¼Œèƒ½åšå‡ºå‡†ç¡®åˆ¤æ–­",
                    strengths: "å†·é™ã€æœ‰æˆ˜ç•¥çœ¼å…‰ã€æœ‰è¾¨åˆ«åŠ›ï¼Œèƒ½åšå‡ºå‡†ç¡®åˆ¤æ–­ï¼Œå®¢è§‚åˆ†ææƒ…å†µ",
                    weaknesses: "å¯èƒ½ç¼ºä¹åŠ¨åŠ›å’Œèƒ½åŠ›å»æ¿€åŠ±ä»–äººï¼Œæ˜¾å¾—å†·æ¼ å’ŒæŒ‘å‰”",
                    contributions: "ä»æ‰€æœ‰å¯ç”¨é€‰é¡¹ä¸­è¿›è¡Œå†·é™åˆ†æï¼Œåšå‡ºæ­£ç¡®å†³ç­–ï¼Œé˜²æ­¢å›¢é˜Ÿè¯¯å…¥æ­§é€”"
                },
                { 
                    name: "å‡èšè€…", 
                    code: "TW", 
                    description: "åˆä½œã€æ¸©å’Œï¼Œèƒ½å€¾å¬å¹¶é˜²æ­¢æ‘©æ“¦",
                    strengths: "åˆä½œã€æ¸©å’Œã€æœ‰æ„ŸçŸ¥åŠ›ï¼Œèƒ½å€¾å¬å’Œé˜²æ­¢æ‘©æ“¦ï¼Œä¿ƒè¿›å›¢é˜Ÿå’Œè°",
                    weaknesses: "å¯èƒ½åœ¨å…³é”®æ—¶åˆ»ä¼˜æŸ”å¯¡æ–­ï¼Œé¿å…å†²çªï¼Œéš¾ä»¥åšå‡ºè‰°éš¾å†³å®š",
                    contributions: "æ”¯æŒå›¢é˜Ÿæˆå‘˜ï¼Œå¢è¿›å›¢é˜Ÿå’Œè°ï¼Œåœ¨å‹åŠ›æƒ…å†µä¸‹ç‰¹åˆ«æœ‰ä»·å€¼"
                },
                { 
                    name: "å®Œæˆè€…", 
                    code: "CF", 
                    description: "å‹¤å‹¤æ³æ³ã€è®¤çœŸï¼Œèƒ½å‘ç°é”™è¯¯å¹¶æŒ‰æ—¶äº¤ä»˜",
                    strengths: "å‹¤å‹¤æ³æ³ã€è®¤çœŸã€æ³¨é‡ç»†èŠ‚ï¼Œèƒ½å‘ç°é”™è¯¯å’Œé—æ¼ï¼Œç¡®ä¿é«˜è´¨é‡äº¤ä»˜",
                    weaknesses: "å¯èƒ½ä¸æ„¿å§”æ‰˜ï¼Œè¿‡äºæ‹…å¿ƒå°ç»†èŠ‚ï¼Œå®¹æ˜“ç„¦è™‘ï¼Œéš¾ä»¥çœ‹åˆ°å¤§å±€",
                    contributions: "ç¡®ä¿å›¢é˜Ÿä¸ä¼šçŠ¯ç²—å¿ƒé”™è¯¯ï¼Œæœå¯»éœ€è¦ç‰¹åˆ«æ³¨æ„çš„å·¥ä½œï¼Œä¿æŒå›¢é˜Ÿç´§è¿«æ„Ÿ"
                },
                { 
                    name: "ä¸“å®¶", 
                    code: "SP", 
                    description: "ä¸“æ³¨ã€è‡ªæˆ‘æ¿€åŠ±ï¼Œèƒ½æä¾›ç¨€ç¼ºçš„çŸ¥è¯†å’ŒæŠ€èƒ½",
                    strengths: "ä¸“æ³¨ã€è‡ªæˆ‘æ¿€åŠ±ï¼Œèƒ½æä¾›ç¨€ç¼ºçš„çŸ¥è¯†å’ŒæŠ€èƒ½ï¼Œåœ¨ä¸“ä¸šé¢†åŸŸè´¡çŒ®æ·±åº¦",
                    weaknesses: "å¯èƒ½åªè´¡çŒ®äºç‹­çª„çš„é¢†åŸŸï¼Œå¿½è§†å¤§å±€ï¼Œéš¾ä»¥ä¸éä¸“ä¸šäººå£«æ²Ÿé€š",
                    contributions: "åœ¨çŸ¥è¯†æˆ–æŠ€èƒ½çš„å…³é”®é¢†åŸŸæä¾›ä¸“ä¸šçŸ¥è¯†å’Œä¸“æ³¨ï¼Œè§£å†³æŠ€æœ¯éš¾é¢˜"
                }
            ],
            // æ¯ä¸ªéƒ¨åˆ†ä¸­æ¯ä¸ªé—®é¢˜å¯¹åº”çš„è§’è‰²ç´¢å¼•
            questionRoleMapping: [
                [4, 6, 0, 2, 1, 8, 5, 3, 7], // ç¬¬ä¸€éƒ¨åˆ†
                [1, 5, 6, 3, 7, 2, 6, 8, 3], // ç¬¬äºŒéƒ¨åˆ†
                [3, 7, 1, 4, 0, 5, 6, 2, 0], // ç¬¬ä¸‰éƒ¨åˆ†
                [6, 5, 2, 0, 6, 4, 7, 5, 8], // ç¬¬å››éƒ¨åˆ†
                [5, 8, 3, 2, 0, 6, 4, 1, 2], // ç¬¬äº”éƒ¨åˆ†
                [8, 0, 3, 5, 1, 3, 2, 7, 6], // ç¬¬å…­éƒ¨åˆ†
                [2, 6, 8, 4, 4, 7, 5, 0, 5]  // ç¬¬ä¸ƒéƒ¨åˆ†
            ]
        };

        // åº”ç”¨çŠ¶æ€
        let appState = {
            currentUser: null,
            currentPart: 0,
            userAnswers: Array(7).fill().map(() => Array(9).fill(0)),
            chart: null
        };

        // DOM å…ƒç´ 
        const screens = {
            login: document.getElementById('login-screen'),
            register: document.getElementById('register-screen'),
            welcome: document.getElementById('welcome-screen'),
            test: document.getElementById('test-screen'),
            testComplete: document.getElementById('test-complete-screen'),
            report: document.getElementById('report-screen'),
            interpretation: document.getElementById('interpretation-screen')
        };

        // åˆå§‹åŒ–äº‹ä»¶ç›‘å¬å™¨
        function initEventListeners() {
            // ç™»å½•/æ³¨å†Œç›¸å…³
            document.getElementById('login-btn').addEventListener('click', handleLogin);
            document.getElementById('register-btn').addEventListener('click', showRegisterScreen);
            document.getElementById('confirm-register-btn').addEventListener('click', handleRegister);
            document.getElementById('back-to-login-from-register').addEventListener('click', showLoginScreen);
            
            // è¿”å›æŒ‰é’®
            document.getElementById('back-to-login-from-welcome').addEventListener('click', showLoginScreen);
            document.getElementById('back-to-welcome-from-test').addEventListener('click', showWelcomeScreen);
            document.getElementById('back-to-test-from-complete').addEventListener('click', showTestScreen);
            document.getElementById('back-to-complete-from-report').addEventListener('click', showTestCompleteScreen);
            document.getElementById('back-to-report-from-interpretation').addEventListener('click', showReportScreen);
            document.getElementById('back-to-welcome-from-report').addEventListener('click', showWelcomeScreen);
            
            // æµ‹è¯•æµç¨‹ç›¸å…³
            document.getElementById('start-test-btn').addEventListener('click', startTest);
            document.getElementById('prev-part-btn').addEventListener('click', goToPreviousPart);
            document.getElementById('next-part-btn').addEventListener('click', goToNextPart);
            document.getElementById('view-report-btn').addEventListener('click', showReportScreen);
            
            // æŠ¥å‘Šç›¸å…³
            document.getElementById('view-interpretation-btn').addEventListener('click', showInterpretationScreen);
            document.getElementById('restart-test-btn').addEventListener('click', restartTest);
            
            // å›¾è¡¨ç±»å‹é€‰æ‹©
            document.querySelectorAll('.chart-type-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.chart-type-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    updateChart(this.getAttribute('data-type'));
                });
            });
        }

        // æ˜¾ç¤ºç‰¹å®šå±å¹•
        function showScreen(screenName) {
            Object.values(screens).forEach(screen => {
                screen.classList.remove('active');
                // éšè—å‰©ä½™åˆ†æ•°æ˜¾ç¤ºï¼Œé™¤éæ˜¯æµ‹è¯•ç•Œé¢
                if (screenName !== 'test') {
                    document.getElementById('points-remaining-fixed').style.display = 'none';
                }
            });
            screens[screenName].classList.add('active');
            
            // å¦‚æœæ˜¯æµ‹è¯•ç•Œé¢ï¼Œæ˜¾ç¤ºå‰©ä½™åˆ†æ•°
            if (screenName === 'test') {
                document.getElementById('points-remaining-fixed').style.display = 'block';
            }
        }

        // æ˜¾ç¤ºç™»å½•å±å¹•
        function showLoginScreen() {
            showScreen('login');
        }

        // æ˜¾ç¤ºæ³¨å†Œå±å¹•
        function showRegisterScreen() {
            showScreen('register');
        }

        // æ˜¾ç¤ºæ¬¢è¿å±å¹•
        function showWelcomeScreen() {
            document.getElementById('user-info').textContent = `æ¬¢è¿ï¼Œ${appState.currentUser.name}`;
            showScreen('welcome');
        }

        // æ˜¾ç¤ºæµ‹è¯•å±å¹•
        function showTestScreen() {
            showScreen('test');
        }

        // æ˜¾ç¤ºæµ‹è¯•å®Œæˆå±å¹•
        function showTestCompleteScreen() {
            showScreen('testComplete');
        }

        // ç™»å½•å¤„ç†
        function handleLogin() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (!username || !password) {
                alert('è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ');
                return;
            }
            
            // ç®€å•çš„æœ¬åœ°å­˜å‚¨éªŒè¯ï¼ˆå®é™…åº”ç”¨ä¸­åº”æœ‰æ›´å®‰å…¨çš„æ–¹æ³•ï¼‰
            const users = JSON.parse(localStorage.getItem('belbinUsers') || '{}');
            
            if (users[username] && users[username].password === password) {
                appState.currentUser = {
                    username: username,
                    name: users[username].name || username
                };
                // ä¿å­˜å½“å‰ç”¨æˆ·åˆ°localStorage
                localStorage.setItem('belbinCurrentUser', JSON.stringify(appState.currentUser));
                showWelcomeScreen();
            } else {
                alert('ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯');
            }
        }

        // æ³¨å†Œå¤„ç†
        function handleRegister() {
            const username = document.getElementById('new-username').value;
            const password = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            
            if (!username || !password) {
                alert('è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ');
                return;
            }
            
            if (password !== confirmPassword) {
                alert('ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´');
                return;
            }
            
            // ä¿å­˜ç”¨æˆ·ä¿¡æ¯ï¼ˆå®é™…åº”ç”¨ä¸­åº”æœ‰æ›´å®‰å…¨çš„æ–¹æ³•ï¼‰
            const users = JSON.parse(localStorage.getItem('belbinUsers') || '{}');
            
            if (users[username]) {
                alert('ç”¨æˆ·åå·²å­˜åœ¨');
                return;
            }
            
            users[username] = {
                password: password,
                name: username,
                createdAt: new Date().toISOString()
            };
            
            localStorage.setItem('belbinUsers', JSON.stringify(users));
            alert('æ³¨å†ŒæˆåŠŸï¼Œè¯·ç™»å½•');
            showLoginScreen();
        }

        // å¼€å§‹æµ‹è¯•
        function startTest() {
            appState.currentPart = 0;
            loadTestPart(0);
            showScreen('test');
        }

        // åŠ è½½æµ‹è¯•éƒ¨åˆ†
        function loadTestPart(partIndex) {
            const part = testData.parts[partIndex];
            document.getElementById('test-part-title').textContent = part.title;
            
            // æ›´æ–°å¯¼èˆªæŒ‰é’®
            document.getElementById('prev-part-btn').style.display = partIndex > 0 ? 'block' : 'none';
            document.getElementById('next-part-btn').textContent = partIndex < 6 ? 'ä¸‹ä¸€éƒ¨åˆ†' : 'å®Œæˆæµ‹è¯•';
            
            // ç”Ÿæˆé—®é¢˜
            const questionsContainer = document.getElementById('questions-container');
            questionsContainer.innerHTML = '';
            
            // æ·»åŠ æ»šåŠ¨è·Ÿéšçš„å‰©ä½™åˆ†æ•°ï¼ˆç§»åŠ¨ç«¯æ˜¾ç¤ºï¼‰
            const stickyPointsElement = document.createElement('div');
            stickyPointsElement.className = 'points-remaining-sticky';
            stickyPointsElement.id = 'points-remaining-sticky';
            stickyPointsElement.textContent = 'å‰©ä½™åˆ†æ•°: 10';
            questionsContainer.appendChild(stickyPointsElement);
            
            part.questions.forEach((question, index) => {
                const questionElement = document.createElement('div');
                questionElement.className = 'question';
                questionElement.innerHTML = `
                    <p>${question}</p>
                    <div class="slider-container">
                        <input type="range" min="0" max="10" value="${appState.userAnswers[partIndex][index]}" 
                               class="slider" data-part="${partIndex}" data-question="${index}">
                        <span class="slider-value">${appState.userAnswers[partIndex][index]}</span>
                    </div>
                `;
                questionsContainer.appendChild(questionElement);
            });
            
            // æ·»åŠ æ»‘å—äº‹ä»¶ç›‘å¬
            document.querySelectorAll('.slider').forEach(slider => {
                slider.addEventListener('input', handleSliderChange);
            });
            
            // æ›´æ–°å‰©ä½™åˆ†æ•°æ˜¾ç¤º
            updateRemainingPoints(partIndex);
        }

        // å¤„ç†æ»‘å—å˜åŒ–
        function handleSliderChange(event) {
            const slider = event.target;
            const partIndex = parseInt(slider.getAttribute('data-part'));
            const questionIndex = parseInt(slider.getAttribute('data-question'));
            const value = parseInt(slider.value);
            
            // æ›´æ–°æ˜¾ç¤ºçš„å€¼
            slider.nextElementSibling.textContent = value;
            
            // æ›´æ–°ç­”æ¡ˆçŠ¶æ€
            appState.userAnswers[partIndex][questionIndex] = value;
            
            // æ›´æ–°å‰©ä½™åˆ†æ•°æ˜¾ç¤º
            updateRemainingPoints(partIndex);
        }

        // æ›´æ–°å‰©ä½™åˆ†æ•°æ˜¾ç¤º
        function updateRemainingPoints(partIndex) {
            const total = appState.userAnswers[partIndex].reduce((sum, value) => sum + value, 0);
            const remaining = 10 - total;
            
            // æ›´æ–°ä¸¤ä¸ªä½ç½®çš„æ˜¾ç¤º
            const fixedElement = document.getElementById('points-remaining-fixed');
            const stickyElement = document.getElementById('points-remaining-sticky');
            
            fixedElement.textContent = `å‰©ä½™åˆ†æ•°: ${remaining}`;
            stickyElement.textContent = `å‰©ä½™åˆ†æ•°: ${remaining}`;
            
            // æ ¹æ®å‰©ä½™åˆ†æ•°æ›´æ–°é¢œè‰²
            const updateColor = (element) => {
                if (remaining < 0) {
                    element.style.color = '#e74c3c';
                } else if (remaining === 0) {
                    element.style.color = '#27ae60';
                } else {
                    element.style.color = '#f39c12';
                }
            };
            
            updateColor(fixedElement);
            updateColor(stickyElement);
        }

        // è½¬åˆ°ä¸‹ä¸€éƒ¨åˆ†
        function goToNextPart() {
            const currentPart = appState.currentPart;
            const total = appState.userAnswers[currentPart].reduce((sum, value) => sum + value, 0);
            
            if (total !== 10) {
                alert(`æœ¬éƒ¨åˆ†æ‚¨å·²åˆ†é…äº†${total}åˆ†ï¼Œè¯·ç¡®ä¿æ€»åˆ†æ°å¥½ä¸º10åˆ†`);
                return;
            }
            
            if (currentPart < 6) {
                appState.currentPart++;
                loadTestPart(appState.currentPart);
            } else {
                // ä¿å­˜æµ‹è¯•ç»“æœ
                saveTestResults();
                showScreen('testComplete');
            }
        }

        // ä¿å­˜æµ‹è¯•ç»“æœ
        function saveTestResults() {
            if (!appState.currentUser) return;
            
            const users = JSON.parse(localStorage.getItem('belbinUsers') || '{}');
            if (users[appState.currentUser.username]) {
                users[appState.currentUser.username].lastTestResults = {
                    answers: appState.userAnswers,
                    completedAt: new Date().toISOString()
                };
                localStorage.setItem('belbinUsers', JSON.stringify(users));
            }
        }

        // è½¬åˆ°ä¸Šä¸€éƒ¨åˆ†
        function goToPreviousPart() {
            if (appState.currentPart > 0) {
                appState.currentPart--;
                loadTestPart(appState.currentPart);
            }
        }

        // æ˜¾ç¤ºæŠ¥å‘Šå±å¹•
        function showReportScreen() {
            document.getElementById('report-user-info').textContent = `ç”¨æˆ·: ${appState.currentUser.name}`;
            calculateResults();
            showScreen('report');
        }

        // è®¡ç®—æµ‹è¯•ç»“æœ
        function calculateResults() {
            const roleScores = Array(9).fill(0);
            
            // æ ¹æ®ç”¨æˆ·ç­”æ¡ˆå’Œé—®é¢˜-è§’è‰²æ˜ å°„è®¡ç®—æ¯ä¸ªè§’è‰²çš„å¾—åˆ†
            for (let partIndex = 0; partIndex < 7; partIndex++) {
                for (let questionIndex = 0; questionIndex < 9; questionIndex++) {
                    const roleIndex = testData.questionRoleMapping[partIndex][questionIndex];
                    roleScores[roleIndex] += appState.userAnswers[partIndex][questionIndex];
                }
            }
            
            // ä¿å­˜ç»“æœåˆ°åº”ç”¨çŠ¶æ€
            appState.roleScores = roleScores;
            
            // æ˜¾ç¤ºæœ€é«˜åˆ†è§’è‰²
            displayTopRoles(roleScores);
            
            // æ›´æ–°å›¾è¡¨
            updateChart('radar');
        }

        // æ˜¾ç¤ºæœ€é«˜åˆ†è§’è‰²
        function displayTopRoles(roleScores) {
            const topRolesContainer = document.getElementById('top-roles');
            topRolesContainer.innerHTML = '';
            
            // åˆ›å»ºè§’è‰²å¾—åˆ†æ•°ç»„å¹¶æ’åº
            const roleScoreArray = roleScores.map((score, index) => ({
                role: testData.roles[index],
                score: score
            }));
            
            // æŒ‰å¾—åˆ†æ’åº
            roleScoreArray.sort((a, b) => b.score - a.score);
            
            // æ˜¾ç¤ºå‰3ä¸ªè§’è‰²
            for (let i = 0; i < 3 && i < roleScoreArray.length; i++) {
                const roleItem = document.createElement('div');
                roleItem.className = 'role-item';
                roleItem.innerHTML = `
                    <div class="role-name">${roleScoreArray[i].role.name}</div>
                    <div class="role-score">å¾—åˆ†: ${roleScoreArray[i].score}</div>
                    <p>${roleScoreArray[i].role.description}</p>
                `;
                topRolesContainer.appendChild(roleItem);
            }
        }

        // æ›´æ–°å›¾è¡¨
        function updateChart(chartType) {
            const ctx = document.getElementById('results-chart').getContext('2d');
            
            // å¦‚æœå·²æœ‰å›¾è¡¨ï¼Œé”€æ¯å®ƒ
            if (appState.chart) {
                appState.chart.destroy();
            }
            
            // åˆ›å»ºè§’è‰²å¾—åˆ†æ•°ç»„å¹¶æ’åº
            const roleScoreArray = appState.roleScores.map((score, index) => ({
                role: testData.roles[index],
                score: score,
                index: index
            }));
            
            // æŒ‰å¾—åˆ†æ’åº
            roleScoreArray.sort((a, b) => b.score - a.score);
            
            // æå–æ’åºåçš„è§’è‰²åç§°å’Œå¾—åˆ†
            const sortedRoleNames = roleScoreArray.map(item => item.role.name);
            const sortedRoleScores = roleScoreArray.map(item => item.score);
            const maxScore = Math.max(...sortedRoleScores);
            const secondMaxScore = sortedRoleScores.length > 1 ? sortedRoleScores[1] : 0;
            
            // æ ¹æ®é€‰æ‹©çš„å›¾è¡¨ç±»å‹åˆ›å»ºå›¾è¡¨
            switch(chartType) {
                case 'radar':
                    // å¯¹äºé›·è¾¾å›¾ï¼Œæˆ‘ä»¬éœ€è¦åŸå§‹é¡ºåºçš„æ•°æ®
                    const roleNames = testData.roles.map(role => role.name);
                    const roleScores = appState.roleScores;
                    
                    appState.chart = new Chart(ctx, {
                        type: 'radar',
                        data: {
                            labels: roleNames,
                            datasets: [{
                                label: 'è§’è‰²å¾—åˆ†',
                                data: roleScores,
                                backgroundColor: 'rgba(52, 152, 219, 0.2)',
                                borderColor: 'rgba(52, 152, 219, 1)',
                                borderWidth: 2,
                                pointBackgroundColor: roleScores.map(score => 
                                    score === maxScore ? 'rgba(243, 156, 18, 1)' : 'rgba(52, 152, 219, 1)'
                                ),
                                pointBorderColor: '#fff',
                                pointBorderWidth: 2,
                                pointRadius: roleScores.map(score => 
                                    score === maxScore ? 8 : 5
                                ),
                                pointHoverRadius: roleScores.map(score => 
                                    score === maxScore ? 10 : 7
                                )
                            }]
                        },
                        options: {
                            scales: {
                                r: {
                                    angleLines: {
                                        display: true,
                                        color: 'rgba(255, 255, 255, 0.1)'
                                    },
                                    grid: {
                                        color: 'rgba(255, 255, 255, 0.1)'
                                    },
                                    pointLabels: {
                                        color: 'rgba(255, 255, 255, 0.8)',
                                        font: {
                                            size: 12
                                        }
                                    },
                                    ticks: {
                                        color: 'rgba(255, 255, 255, 0.6)',
                                        backdropColor: 'transparent'
                                    },
                                    suggestedMin: 0,
                                    suggestedMax: Math.max(...roleScores) + 5
                                }
                            },
                            plugins: {
                                legend: {
                                    display: false
                                }
                            }
                        }
                    });
                    break;
                    
                case 'bar':
                    // ä¸ºæŸ±çŠ¶å›¾å‡†å¤‡èƒŒæ™¯é¢œè‰²æ•°ç»„ï¼ˆæœ€é«˜å€¼ç”¨æ©™è‰²ï¼Œç¬¬äºŒé«˜ç”¨ç»¿è‰²ï¼‰
                    const backgroundColors = sortedRoleScores.map(score => {
                        if (score === maxScore) return 'rgba(243, 156, 18, 0.7)';
                        if (score === secondMaxScore) return 'rgba(46, 204, 113, 0.7)';
                        return 'rgba(52, 152, 219, 0.7)';
                    });
                    
                    const borderColors = sortedRoleScores.map(score => {
                        if (score === maxScore) return 'rgba(243, 156, 18, 1)';
                        if (score === secondMaxScore) return 'rgba(46, 204, 113, 1)';
                        return 'rgba(52, 152, 219, 1)';
                    });
                    
                    appState.chart = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: sortedRoleNames,
                            datasets: [{
                                label: 'è§’è‰²å¾—åˆ†',
                                data: sortedRoleScores,
                                backgroundColor: backgroundColors,
                                borderColor: borderColors,
                                borderWidth: 1
                            }]
                        },
                        options: {
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    max: Math.max(...sortedRoleScores) + 5,
                                    grid: {
                                        color: 'rgba(255, 255, 255, 0.1)'
                                    },
                                    ticks: {
                                        color: 'rgba(255, 255, 255, 0.8)'
                                    }
                                },
                                x: {
                                    grid: {
                                        color: 'rgba(255, 255, 255, 0.1)'
                                    },
                                    ticks: {
                                        color: 'rgba(255, 255, 255, 0.8)',
                                        maxRotation: 45,
                                        minRotation: 45
                                    }
                                }
                            },
                            plugins: {
                                legend: {
                                    display: false
                                }
                            }
                        }
                    });
                    break;
                    
                case 'polarArea':
                    appState.chart = new Chart(ctx, {
                        type: 'polarArea',
                        data: {
                            labels: sortedRoleNames,
                            datasets: [{
                                label: 'è§’è‰²å¾—åˆ†',
                                data: sortedRoleScores,
                                backgroundColor: [
                                    'rgba(255, 99, 132, 0.7)',
                                    'rgba(54, 162, 235, 0.7)',
                                    'rgba(255, 206, 86, 0.7)',
                                    'rgba(75, 192, 192, 0.7)',
                                    'rgba(153, 102, 255, 0.7)',
                                    'rgba(255, 159, 64, 0.7)',
                                    'rgba(199, 199, 199, 0.7)',
                                    'rgba(83, 102, 255, 0.7)',
                                    'rgba(40, 159, 64, 0.7)'
                                ],
                                borderWidth: 1
                            }]
                        },
                        options: {
                            scales: {
                                r: {
                                    grid: {
                                        color: 'rgba(255, 255, 255, 0.1)'
                                    },
                                    ticks: {
                                        color: 'rgba(255, 255, 255, 0.6)',
                                        backdropColor: 'transparent'
                                    },
                                    suggestedMin: 0,
                                    suggestedMax: Math.max(...sortedRoleScores) + 5
                                }
                            }
                        }
                    });
                    break;
            }
        }

        // æ˜¾ç¤ºè§’è‰²è§£è¯»å±å¹•
        function showInterpretationScreen() {
            document.getElementById('interpretation-user-info').textContent = `ç”¨æˆ·: ${appState.currentUser.name}`;
            
            const roleDetailsContainer = document.getElementById('role-details');
            
            // åˆ›å»ºè§’è‰²å¾—åˆ†æ•°ç»„å¹¶æ’åº
            const roleScoreArray = appState.roleScores.map((score, index) => ({
                role: testData.roles[index],
                score: score
            }));
            
            // æŒ‰å¾—åˆ†æ’åº
            roleScoreArray.sort((a, b) => b.score - a.score);
            
            // è·å–å½“å‰æ—¥æœŸ
            const currentDate = new Date();
            const formattedDate = `${currentDate.getFullYear()}å¹´${currentDate.getMonth()+1}æœˆ${currentDate.getDate()}æ—¥`;
            
            // ç”Ÿæˆä¸ªæ€§åŒ–è§£è¯»æŠ¥å‘Š
            let interpretationHTML = '';
            
            // ä¸»è¦è§’è‰²è§£è¯»
            if (roleScoreArray.length > 0) {
                const primaryRole = roleScoreArray[0];
                interpretationHTML += `
                    <div class="interpretation-section">
                        <h3>${appState.currentUser.name}ï¼Œæ ¹æ®æµ‹è¯•ç»“æœï¼Œæ‚¨åœ¨å›¢é˜Ÿä¸­çš„ä¸»è¦è§’è‰²æ˜¯ï¼š${primaryRole.role.name}</h3>
                        <p><strong>ä¸»è¦æè¿°ï¼š</strong>${primaryRole.role.description}</p>
                        <p><strong>ä¼˜åŠ¿ï¼š</strong>${primaryRole.role.strengths}</p>
                        <p><strong>å¯æ¥å—çš„å¼±ç‚¹ï¼š</strong>${primaryRole.role.weaknesses}</p>
                        <p><strong>å¯¹å›¢é˜Ÿçš„è´¡çŒ®ï¼š</strong>${primaryRole.role.contributions}</p>
                    </div>
                `;
            }
            
            // æ¬¡è¦è§’è‰²è§£è¯»
            if (roleScoreArray.length > 1) {
                const secondaryRole = roleScoreArray[1];
                interpretationHTML += `
                    <div class="interpretation-section">
                        <h3>${appState.currentUser.name}ï¼Œæ‚¨åœ¨å›¢é˜Ÿä¸­çš„ç¬¬äºŒç§è§’è‰²å¯èƒ½æ˜¯ï¼š${secondaryRole.role.name}</h3>
                        <p>å¦‚æœæ‚¨æ‰€åœ¨çš„å›¢é˜Ÿå’Œæ‚¨æœ¬äººæœ‰éœ€è¦ï¼Œä¹Ÿå¯ä»¥å¼€å‘å’Œæå‡æ‚¨çš„è¿™ä¸ªè§’è‰²ã€‚</p>
                        <p><strong>ä¸»è¦æè¿°ï¼š</strong>${secondaryRole.role.description}</p>
                        <p><strong>ä¼˜åŠ¿ï¼š</strong>${secondaryRole.role.strengths}</p>
                        <p><strong>å¯æ¥å—çš„å¼±ç‚¹ï¼š</strong>${secondaryRole.role.weaknesses}</p>
                        <p><strong>å¯¹å›¢é˜Ÿçš„è´¡çŒ®ï¼š</strong>${secondaryRole.role.contributions}</p>
                    </div>
                `;
            }
            
            // ç»“å°¾ç¥ç¦å’Œè½æ¬¾
            interpretationHTML += `
                <div class="interpretation-section">
                    <p>æ„Ÿè°¢æ‚¨å‚ä¸æœ¬æ¬¡è´å°”å®¾å›¢é˜Ÿè§’è‰²æµ‹è¯•ï¼äº†è§£è‡ªå·±åœ¨å›¢é˜Ÿä¸­çš„è§’è‰²å€¾å‘æ˜¯æå‡å›¢é˜Ÿåä½œæ•ˆèƒ½çš„é‡è¦ä¸€æ­¥ã€‚</p>
                    <p>å¸Œæœ›è¿™ä»½æŠ¥å‘Šèƒ½å¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£è‡ªå·±çš„å›¢é˜Ÿè§’è‰²ï¼Œå¹¶åœ¨æœªæ¥çš„èŒä¸šç”Ÿæ¶¯ä¸­å‘æŒ¥æ›´å¤§çš„ä»·å€¼ã€‚ç¥æ‚¨å·¥ä½œé¡ºåˆ©ï¼Œå›¢é˜Ÿåˆä½œæ„‰å¿«ï¼</p>
                </div>
                <div class="signature">
                    <p>é‡åº†å·¥å•†å¤§å­¦ é„¢æ¸…å</p>
                    <p>${formattedDate}</p>
                </div>
            `;
            
            roleDetailsContainer.innerHTML = interpretationHTML;
            
            showScreen('interpretation');
        }

        // é‡æ–°å¼€å§‹æµ‹è¯•
        function restartTest() {
            if (confirm('ç¡®å®šè¦é‡æ–°å¼€å§‹æµ‹è¯•å—ï¼Ÿå½“å‰æµ‹è¯•ç»“æœå°†è¢«æ¸…é™¤ã€‚')) {
                appState.userAnswers = Array(7).fill().map(() => Array(9).fill(0));
                appState.currentPart = 0;
                startTest();
            }
        }

        // åˆå§‹åŒ–åº”ç”¨
        function initApp() {
            initEventListeners();
            
            // æ£€æŸ¥æ˜¯å¦å·²æœ‰ç™»å½•ç”¨æˆ·
            try {
                const currentUser = localStorage.getItem('belbinCurrentUser');
                if (currentUser) {
                    appState.currentUser = JSON.parse(currentUser);
                    showWelcomeScreen();
                } else {
                    showScreen('login');
                }
            } catch (e) {
                console.error('åˆå§‹åŒ–åº”ç”¨æ—¶å‡ºé”™:', e);
                showScreen('login');
            }
        }

        // å¯åŠ¨åº”ç”¨
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
<script>
(function(){
  // Build i18n object
  const i18n = {
    zh: { name: "ä¸­æ–‡", ui: {
      app_title:"è´å°”å®¾å›¢é˜Ÿè§’è‰²æµ‹è¯•",
      label_username:"ç”¨æˆ·å", label_password:"å¯†ç ", label_confirm_pwd:"ç¡®è®¤å¯†ç ",
      ph_username:"è¯·è¾“å…¥ç”¨æˆ·å", ph_password:"è¯·è¾“å…¥å¯†ç ", ph_confirm_password:"è¯·å†æ¬¡è¾“å…¥å¯†ç ",
      btn_login:"ç™»å½•", btn_register:"æ³¨å†Œæ–°è´¦å·", btn_confirm_register:"ç¡®è®¤æ³¨å†Œ",
      btn_back_login:"â† è¿”å›ç™»å½•",
      welcome_title:"è´å°”å®¾å›¢é˜Ÿè§’è‰²æµ‹è¯•",
      motto_1:"ä¸ªäººå²‚æœ‰å®Œç¾ å›¢é˜Ÿå¯è‡»è‡³å–„",
      motto_2:"æµ‹è¯•ç¨‹åºå¼€å‘ï¼šé‡åº†å·¥å•†å¤§å­¦ é„¢æ¸…å",
      welcome_p1:"æ¬¢è¿å‚åŠ è´å°”å®¾å›¢é˜Ÿè§’è‰²æµ‹è¯•ï¼",
      welcome_p2:"æœ¬æµ‹è¯•å°†å¸®åŠ©æ‚¨äº†è§£è‡ªå·±åœ¨å›¢é˜Ÿä¸­çš„è§’è‰²å€¾å‘ã€‚",
      welcome_p3:"æµ‹è¯•å…±æœ‰7ä¸ªéƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†æœ‰9ä¸ªé™ˆè¿°ã€‚",
      welcome_p4:"æ¯ä¸ªéƒ¨åˆ†æ‚¨æœ‰10åˆ†å¯ä»¥åˆ†é…ç»™è¿™äº›é™ˆè¿°ï¼Œè¯·æ ¹æ®æ‚¨çš„å®é™…æƒ…å†µåˆ†é…åˆ†æ•°ã€‚",
      btn_start_test:"å¼€å§‹æµ‹è¯•",
      btn_back_home:"â† è¿”å›é¦–é¡µ",
      btn_prev:"ä¸Šä¸€éƒ¨åˆ†",
      btn_next:"ä¸‹ä¸€éƒ¨åˆ†",
      btn_finish:"å®Œæˆæµ‹è¯•",
      test_instruction:"æ‚¨æœ‰10åˆ†å¯ä»¥åˆ†é…ç»™ä¸‹é¢çš„9ä¸ªé™ˆè¿°ï¼ŒæŸäº›é™ˆè¿°å¯ä»¥ä¸ç»™åˆ†ï¼Œä½†æ€»åˆ†å¿…é¡»æ°å¥½ä¸º10åˆ†ã€‚",
      title_complete:"æµ‹è¯•å®Œæˆ",
      complete_p1:"æ­å–œæ‚¨å·²å®Œæˆæ‰€æœ‰æµ‹è¯•éƒ¨åˆ†ï¼",
      complete_p2:"æ˜¯å¦æŸ¥çœ‹æŠ¥å‘Šï¼Ÿ",
      btn_view_report:"æŸ¥çœ‹æŠ¥å‘Š",
      btn_back_prev:"â† è¿”å›ä¸Šä¸€é¡µ",
      report_title:"æ‚¨çš„è´å°”å®¾å›¢é˜Ÿè§’è‰²æµ‹è¯•ç»“æœ",
      chart_radar:"è››ç½‘å›¾", chart_bar:"æŸ±çŠ¶å›¾", chart_polar:"æåœ°åŒºåŸŸå›¾",
      top_roles_title:"æ‚¨çš„æ ¸å¿ƒè§’è‰²",
      btn_view_interpretation:"æŸ¥çœ‹è§’è‰²è¯¦ç»†è§£è¯»",
      btn_restart:"é‡æ–°æµ‹è¯•", btn_back_report:"â† è¿”å›æŠ¥å‘Š",
      interp_title:"è§’è‰²è¯¦ç»†è§£è¯»",
      points_remaining:"å‰©ä½™åˆ†æ•°",
      alert_need_creds:"è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ",
      alert_wrong_creds:"ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯",
      alert_pwd_mismatch:"ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´",
      alert_user_exists:"ç”¨æˆ·åå·²å­˜åœ¨",
      alert_register_ok:"æ³¨å†ŒæˆåŠŸï¼Œè¯·ç™»å½•",
      alert_group_total: (n)=>`æœ¬éƒ¨åˆ†æ‚¨å·²åˆ†é…äº†${n}åˆ†ï¼Œè¯·ç¡®ä¿æ€»åˆ†æ°å¥½ä¸º10åˆ†`,
      user_welcome: (name)=>`æ¬¢è¿ï¼Œ${name}`,
      user_label: (name)=>`ç”¨æˆ·: ${name}`,
      role_primary_title: (name, role)=>`${name}ï¼Œæ ¹æ®æµ‹è¯•ç»“æœï¼Œæ‚¨åœ¨å›¢é˜Ÿä¸­çš„ä¸»è¦è§’è‰²æ˜¯ï¼š${role}`,
      role_secondary_title: (name, role)=>`${name}ï¼Œæ‚¨åœ¨å›¢é˜Ÿä¸­çš„ç¬¬äºŒç§è§’è‰²å¯èƒ½æ˜¯ï¼š${role}`,
      role_secondary_hint:"å¦‚æœæ‚¨æ‰€åœ¨çš„å›¢é˜Ÿå’Œæ‚¨æœ¬äººæœ‰éœ€è¦ï¼Œä¹Ÿå¯ä»¥å¼€å‘å’Œæå‡æ‚¨çš„è¿™ä¸ªè§’è‰²ã€‚",
      section_desc:"ä¸»è¦æè¿°", section_strengths:"ä¼˜åŠ¿",
      section_weaknesses:"å¯æ¥å—çš„å¼±ç‚¹", section_contrib:"å¯¹å›¢é˜Ÿçš„è´¡çŒ®",
      section_thanks_1:"æ„Ÿè°¢æ‚¨å‚ä¸æœ¬æ¬¡è´å°”å®¾å›¢é˜Ÿè§’è‰²æµ‹è¯•ï¼äº†è§£è‡ªå·±åœ¨å›¢é˜Ÿä¸­çš„è§’è‰²å€¾å‘æ˜¯æå‡å›¢é˜Ÿåä½œæ•ˆèƒ½çš„é‡è¦ä¸€æ­¥ã€‚",
      section_thanks_2:"å¸Œæœ›è¿™ä»½æŠ¥å‘Šèƒ½å¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£è‡ªå·±çš„å›¢é˜Ÿè§’è‰²ï¼Œå¹¶åœ¨æœªæ¥çš„èŒä¸šç”Ÿæ¶¯ä¸­å‘æŒ¥æ›´å¤§çš„ä»·å€¼ã€‚ç¥æ‚¨å·¥ä½œé¡ºåˆ©ï¼Œå›¢é˜Ÿåˆä½œæ„‰å¿«ï¼",
      sign_org:"é‡åº†å·¥å•†å¤§å­¦ é„¢æ¸…å",
      chart_role_label:"è§’è‰²å¾—åˆ†"
    }},
    en: { name:"English", ui:{
      app_title:"Belbin Team Roles Test",
      label_username:"Username", label_password:"Password", label_confirm_pwd:"Confirm Password",
      ph_username:"Enter username", ph_password:"Enter password", ph_confirm_password:"Re-enter password",
      btn_login:"Log in", btn_register:"Register", btn_confirm_register:"Confirm Registration",
      btn_back_login:"â† Back to Login",
      welcome_title:"Belbin Team Roles Test",
      motto_1:"No one is perfect; together a team can be.",
      motto_2:"Program by: Chongqing Technology and Business University Â· Yan Qinghua",
      welcome_p1:"Welcome to the Belbin Team Roles assessment!",
      welcome_p2:"This test helps you understand your preferred roles in a team.",
      welcome_p3:"There are 7 parts, each with 9 statements.",
      welcome_p4:"In each part you have 10 points to allocate across the statements.",
      btn_start_test:"Start Test",
      btn_back_home:"â† Back to Home",
      btn_prev:"Previous Part",
      btn_next:"Next Part",
      btn_finish:"Finish Test",
      test_instruction:"Allocate a total of 10 points across the 9 statements below. Some may be zero, but the total must equal exactly 10.",
      title_complete:"Test Completed",
      complete_p1:"Great! You've finished all parts.",
      complete_p2:"Would you like to view your report?",
      btn_view_report:"View Report",
      btn_back_prev:"â† Back",
      report_title:"Your Belbin Team Roles Results",
      chart_radar:"Radar", chart_bar:"Bar", chart_polar:"Polar Area",
      top_roles_title:"Your Core Roles",
      btn_view_interpretation:"View Detailed Interpretation",
      btn_restart:"Restart", btn_back_report:"â† Back to Report",
      interp_title:"Detailed Role Interpretation",
      points_remaining:"Points Left",
      alert_need_creds:"Please enter username and password",
      alert_wrong_creds:"Incorrect username or password",
      alert_pwd_mismatch:"Passwords do not match",
      alert_user_exists:"Username already exists",
      alert_register_ok:"Registered! Please log in.",
      alert_group_total:(n)=>`You have allocated ${n} points. The total must be exactly 10.`,
      user_welcome:(name)=>`Welcome, ${name}`,
      user_label:(name)=>`User: ${name}`,
      role_primary_title:(name, role)=>`${name}, your primary team role is: ${role}`,
      role_secondary_title:(name, role)=>`${name}, your secondary role may be: ${role}`,
      role_secondary_hint:"You may develop and strengthen this role if needed by you or your team.",
      section_desc:"Description", section_strengths:"Strengths", section_weaknesses:"Allowable Weaknesses", section_contrib:"Contributions",
      section_thanks_1:"Thanks for taking the Belbin assessment! Understanding your roles is a key step to better collaboration.",
      section_thanks_2:"We hope this report helps you leverage your strengths at work and in your career. Wishing you every success!",
      sign_org:"Chongqing Technology and Business University Â· Yan Qinghua",
      chart_role_label:"Role Score"
    }},
    fr:{ name:"FranÃ§ais", ui:{
      app_title:"Test des rÃ´les dâ€™Ã©quipe Belbin",
      label_username:"Nom dâ€™utilisateur", label_password:"Mot de passe", label_confirm_pwd:"Confirmer le mot de passe",
      ph_username:"Saisir le nom dâ€™utilisateur", ph_password:"Saisir le mot de passe", ph_confirm_password:"Resaisir le mot de passe",
      btn_login:"Se connecter", btn_register:"CrÃ©er un compte", btn_confirm_register:"Valider lâ€™inscription",
      btn_back_login:"â† Retour Ã  la connexion",
      welcome_title:"Test des rÃ´les dâ€™Ã©quipe Belbin",
      motto_1:"Aucun individu nâ€™est parfait ; ensemble, une Ã©quipe peut lâ€™Ãªtre.",
      motto_2:"Programme : CTBU Â· Yan Qinghua",
      welcome_p1:"Bienvenue au questionnaire Belbin !",
      welcome_p2:"Ce test vous aide Ã  comprendre vos rÃ´les prÃ©fÃ©rÃ©s en Ã©quipe.",
      welcome_p3:"Il y a 7 parties, chacune avec 9 affirmations.",
      welcome_p4:"Dans chaque partie, vous disposez de 10 points Ã  rÃ©partir.",
      btn_start_test:"Commencer",
      btn_back_home:"â† Accueil",
      btn_prev:"Partie prÃ©cÃ©dente",
      btn_next:"Partie suivante",
      btn_finish:"Terminer le test",
      test_instruction:"RÃ©partissez exactement 10 points entre les 9 affirmations ci-dessous. Certaines peuvent recevoir 0.",
      title_complete:"Test terminÃ©",
      complete_p1:"Bravo ! Vous avez terminÃ© toutes les parties.",
      complete_p2:"Voulez-vous consulter votre rapport ?",
      btn_view_report:"Voir le rapport",
      btn_back_prev:"â† Retour",
      report_title:"Vos rÃ©sultats Belbin",
      chart_radar:"Radar", chart_bar:"Histogramme", chart_polar:"Zone polaire",
      top_roles_title:"Vos rÃ´les clÃ©s",
      btn_view_interpretation:"Voir lâ€™interprÃ©tation dÃ©taillÃ©e",
      btn_restart:"Recommencer", btn_back_report:"â† Retour au rapport",
      interp_title:"InterprÃ©tation dÃ©taillÃ©e",
      points_remaining:"Points restants",
      alert_need_creds:"Veuillez saisir le nom dâ€™utilisateur et le mot de passe",
      alert_wrong_creds:"Identifiant ou mot de passe incorrect",
      alert_pwd_mismatch:"Les mots de passe ne correspondent pas",
      alert_user_exists:"Ce nom dâ€™utilisateur existe dÃ©jÃ ",
      alert_register_ok:"Inscription rÃ©ussie ! Connectez-vous.",
      alert_group_total:(n)=>`Vous avez attribuÃ© ${n} points. Le total doit Ãªtre 10.`,
      user_welcome:(name)=>`Bienvenue, ${name}`,
      user_label:(name)=>`Utilisateur : ${name}`,
      role_primary_title:(name, role)=>`${name}, votre rÃ´le principal est : ${role}`,
      role_secondary_title:(name, role)=>`${name}, votre rÃ´le secondaire pourrait Ãªtre : ${role}`,
      role_secondary_hint:"Vous pouvez dÃ©velopper ce rÃ´le selon les besoins.",
      section_desc:"Description", section_strengths:"Forces", section_weaknesses:"Faiblesses tolÃ©rables", section_contrib:"Contributions",
      section_thanks_1:"Merci dâ€™avoir passÃ© le test Belbin !", section_thanks_2:"Plein succÃ¨s !",
      sign_org:"UniversitÃ© CTBU Â· Yan Qinghua", chart_role_label:"Score par rÃ´le"
    }},
    th:{ name:"à¹„à¸—à¸¢", ui:{
      app_title:"à¹à¸šà¸šà¸—à¸”à¸ªà¸­à¸šà¸šà¸—à¸šà¸²à¸—à¸—à¸µà¸¡ Belbin",
      label_username:"à¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰", label_password:"à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™", label_confirm_pwd:"à¸¢à¸·à¸™à¸¢à¸±à¸™à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™",
      ph_username:"à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰", ph_password:"à¸à¸£à¸­à¸à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™", ph_confirm_password:"à¸à¸£à¸­à¸à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™à¸­à¸µà¸à¸„à¸£à¸±à¹‰à¸‡",
      btn_login:"à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š", btn_register:"à¸ªà¸¡à¸±à¸„à¸£à¸ªà¸¡à¸²à¸Šà¸´à¸", btn_confirm_register:"à¸¢à¸·à¸™à¸¢à¸±à¸™à¸à¸²à¸£à¸ªà¸¡à¸±à¸„à¸£",
      btn_back_login:"â† à¸à¸¥à¸±à¸šà¸ªà¸¹à¹ˆà¸«à¸™à¹‰à¸²à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š",
      welcome_title:"à¹à¸šà¸šà¸—à¸”à¸ªà¸­à¸šà¸šà¸—à¸šà¸²à¸—à¸—à¸µà¸¡ Belbin",
      motto_1:"à¹„à¸¡à¹ˆà¸¡à¸µà¹ƒà¸„à¸£à¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œà¹à¸šà¸š à¹à¸•à¹ˆà¸—à¸µà¸¡à¸ªà¸²à¸¡à¸²à¸£à¸–à¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œà¹„à¸”à¹‰",
      motto_2:"à¸à¸±à¸’à¸™à¸²à¹‚à¸”à¸¢: CTBU Â· Yan Qinghua",
      welcome_p1:"à¸¢à¸´à¸™à¸”à¸µà¸•à¹‰à¸­à¸™à¸£à¸±à¸šà¸ªà¸¹à¹ˆà¹à¸šà¸šà¸—à¸”à¸ªà¸­à¸š Belbin",
      welcome_p2:"à¹à¸šà¸šà¸—à¸”à¸ªà¸­à¸šà¸™à¸µà¹‰à¸Šà¹ˆà¸§à¸¢à¹ƒà¸«à¹‰à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸šà¸—à¸šà¸²à¸—à¸—à¸µà¹ˆà¸„à¸¸à¸“à¸–à¸™à¸±à¸”à¹ƒà¸™à¸—à¸µà¸¡",
      welcome_p3:"à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” 7 à¸ªà¹ˆà¸§à¸™ à¸ªà¹ˆà¸§à¸™à¸¥à¸° 9 à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡",
      welcome_p4:"à¹à¸•à¹ˆà¸¥à¸°à¸ªà¹ˆà¸§à¸™à¸¡à¸µ 10 à¸„à¸°à¹à¸™à¸™à¹ƒà¸«à¹‰à¸ˆà¸±à¸”à¸ªà¸£à¸£",
      btn_start_test:"à¹€à¸£à¸´à¹ˆà¸¡à¸—à¸³à¹à¸šà¸šà¸—à¸”à¸ªà¸­à¸š",
      btn_back_home:"â† à¸à¸¥à¸±à¸šà¸«à¸™à¹‰à¸²à¸«à¸¥à¸±à¸",
      btn_prev:"à¸ªà¹ˆà¸§à¸™à¸à¹ˆà¸­à¸™à¸«à¸™à¹‰à¸²",
      btn_next:"à¸ªà¹ˆà¸§à¸™à¸–à¸±à¸”à¹„à¸›",
      btn_finish:"à¸ˆà¸šà¹à¸šà¸šà¸—à¸”à¸ªà¸­à¸š",
      test_instruction:"à¸à¸£à¸°à¸ˆà¸²à¸¢ 10 à¸„à¸°à¹à¸™à¸™à¹ƒà¸«à¹‰à¸„à¸£à¸šà¸à¸±à¸šà¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡ 9 à¸‚à¹‰à¸­à¸”à¹‰à¸²à¸™à¸¥à¹ˆà¸²à¸‡",
      title_complete:"à¸—à¸³à¹à¸šà¸šà¸—à¸”à¸ªà¸­à¸šà¹€à¸ªà¸£à¹‡à¸ˆ",
      complete_p1:"à¹€à¸¢à¸µà¹ˆà¸¢à¸¡! à¸„à¸¸à¸“à¸—à¸³à¸„à¸£à¸šà¸—à¸¸à¸à¸ªà¹ˆà¸§à¸™à¹à¸¥à¹‰à¸§",
      complete_p2:"à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸”à¸¹à¸£à¸²à¸¢à¸‡à¸²à¸™à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ?",
      btn_view_report:"à¸”à¸¹à¸£à¸²à¸¢à¸‡à¸²à¸™",
      btn_back_prev:"â† à¸à¸¥à¸±à¸š",
      report_title:"à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œà¸šà¸—à¸šà¸²à¸—à¸—à¸µà¸¡ Belbin à¸‚à¸­à¸‡à¸„à¸¸à¸“",
      chart_radar:"à¹€à¸£à¸”à¸²à¸£à¹Œ", chart_bar:"à¹à¸—à¹ˆà¸‡", chart_polar:"à¹‚à¸à¸¥à¸²à¸£à¹Œ",
      top_roles_title:"à¸šà¸—à¸šà¸²à¸—à¹€à¸”à¹ˆà¸™à¸‚à¸­à¸‡à¸„à¸¸à¸“",
      btn_view_interpretation:"à¸”à¸¹à¸à¸²à¸£à¸­à¸˜à¸´à¸šà¸²à¸¢à¹€à¸Šà¸´à¸‡à¸¥à¸¶à¸",
      btn_restart:"à¹€à¸£à¸´à¹ˆà¸¡à¹ƒà¸«à¸¡à¹ˆ", btn_back_report:"â† à¸à¸¥à¸±à¸šà¸ªà¸¹à¹ˆà¸£à¸²à¸¢à¸‡à¸²à¸™",
      interp_title:"à¸à¸²à¸£à¸•à¸µà¸„à¸§à¸²à¸¡à¸šà¸—à¸šà¸²à¸—à¹‚à¸”à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”",
      points_remaining:"à¸„à¸°à¹à¸™à¸™à¸„à¸‡à¹€à¸«à¸¥à¸·à¸­",
      alert_need_creds:"à¸à¸£à¸­à¸à¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹à¸¥à¸°à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™",
      alert_wrong_creds:"à¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸«à¸£à¸·à¸­à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡",
      alert_pwd_mismatch:"à¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™à¹„à¸¡à¹ˆà¸•à¸£à¸‡à¸à¸±à¸™",
      alert_user_exists:"à¸¡à¸µà¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸™à¸µà¹‰à¹à¸¥à¹‰à¸§",
      alert_register_ok:"à¸ªà¸¡à¸±à¸„à¸£à¹€à¸ªà¸£à¹‡à¸ˆà¹à¸¥à¹‰à¸§ à¸à¸£à¸¸à¸“à¸²à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š",
      alert_group_total:(n)=>`à¸„à¸¸à¸“à¹ƒà¸«à¹‰à¹„à¸›à¹à¸¥à¹‰à¸§ ${n} à¸„à¸°à¹à¸™à¸™ à¸•à¹‰à¸­à¸‡à¸£à¸§à¸¡à¸à¸±à¸™à¹€à¸›à¹‡à¸™ 10 à¸„à¸°à¹à¸™à¸™`,
      user_welcome:(name)=>`à¸¢à¸´à¸™à¸”à¸µà¸•à¹‰à¸­à¸™à¸£à¸±à¸š, ${name}`,
      user_label:(name)=>`à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰: ${name}`,
      role_primary_title:(name, role)=>`${name} à¸šà¸—à¸šà¸²à¸—à¸«à¸¥à¸±à¸à¸‚à¸­à¸‡à¸„à¸¸à¸“à¸„à¸·à¸­: ${role}`,
      role_secondary_title:(name, role)=>`${name} à¸šà¸—à¸šà¸²à¸—à¸£à¸­à¸‡à¸‚à¸­à¸‡à¸„à¸¸à¸“à¸­à¸²à¸ˆà¹€à¸›à¹‡à¸™: ${role}`,
      role_secondary_hint:"à¸ªà¸²à¸¡à¸²à¸£à¸–à¸à¸±à¸’à¸™à¸²à¸šà¸—à¸šà¸²à¸—à¸™à¸µà¹‰à¹„à¸”à¹‰à¸«à¸²à¸à¸ˆà¸³à¹€à¸›à¹‡à¸™",
      section_desc:"à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢", section_strengths:"à¸ˆà¸¸à¸”à¹à¸‚à¹‡à¸‡", section_weaknesses:"à¸ˆà¸¸à¸”à¸­à¹ˆà¸­à¸™à¸—à¸µà¹ˆà¸¢à¸­à¸¡à¸£à¸±à¸šà¹„à¸”à¹‰", section_contrib:"à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸¡à¸­à¸šà¹ƒà¸«à¹‰à¸—à¸µà¸¡",
      section_thanks_1:"à¸‚à¸­à¸šà¸„à¸¸à¸“à¸—à¸µà¹ˆà¸—à¸³à¹à¸šà¸šà¸—à¸”à¸ªà¸­à¸š Belbin!", section_thanks_2:"à¸‚à¸­à¹ƒà¸«à¹‰à¹‚à¸Šà¸„à¸”à¸µ!",
      sign_org:"à¸¡à¸«à¸²à¸§à¸´à¸—à¸¢à¸²à¸¥à¸±à¸¢ CTBU Â· Yan Qinghua", chart_role_label:"à¸„à¸°à¹à¸™à¸™à¸šà¸—à¸šà¸²à¸—"
    }},
    ru:{ name:"Ğ ÑƒÑÑĞºĞ¸Ğ¹", ui:{
      app_title:"Ğ¢ĞµÑÑ‚ Ñ€Ğ¾Ğ»ĞµĞ¹ Ğ‘ĞµĞ»Ğ±Ğ¸Ğ½Ğ°",
      label_username:"Ğ˜Ğ¼Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ", label_password:"ĞŸĞ°Ñ€Ğ¾Ğ»ÑŒ", label_confirm_pwd:"ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»Ñ",
      ph_username:"Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¸Ğ¼Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ", ph_password:"Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ", ph_confirm_password:"ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ",
      btn_login:"Ğ’Ğ¾Ğ¹Ñ‚Ğ¸", btn_register:"Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ", btn_confirm_register:"ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸Ñ‚ÑŒ",
      btn_back_login:"â† ĞĞ°Ğ·Ğ°Ğ´ Ğº Ğ²Ñ…Ğ¾Ğ´Ñƒ",
      welcome_title:"Ğ¢ĞµÑÑ‚ Ğ‘ĞµĞ»Ğ±Ğ¸Ğ½Ğ°",
      motto_1:"ĞĞ´Ğ¸Ğ½ Ğ½Ğµ ÑĞ¾Ğ²ĞµÑ€ÑˆĞµĞ½ĞµĞ½; ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ.", motto_2:"ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°: CTBU Â· Ğ¯Ğ½ Ğ¦Ğ¸Ğ½Ñ…ÑƒĞ°",
      welcome_p1:"Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Ñ‚ĞµÑÑ‚ Ğ‘ĞµĞ»Ğ±Ğ¸Ğ½Ğ°!", welcome_p2:"ĞĞ½ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ĞµÑ‚ Ğ¿Ğ¾Ğ½ÑÑ‚ÑŒ Ğ²Ğ°ÑˆĞ¸ Ñ€Ğ¾Ğ»Ğ¸ Ğ² ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğµ.",
      welcome_p3:"7 Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ¾Ğ² Ğ¿Ğ¾ 9 ÑƒÑ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğ¹.", welcome_p4:"Ğ’ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğµ Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ñ‚Ğµ 10 Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ².",
      btn_start_test:"ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ", btn_back_home:"â† ĞĞ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑ", btn_prev:"ĞŸÑ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰Ğ¸Ğ¹ Ñ€Ğ°Ğ·Ğ´ĞµĞ»", btn_next:"Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ Ñ€Ğ°Ğ·Ğ´ĞµĞ»", btn_finish:"Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ñ‚ÑŒ Ñ‚ĞµÑÑ‚",
      test_instruction:"Ğ Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ñ‚Ğµ Ñ€Ğ¾Ğ²Ğ½Ğ¾ 10 Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ² Ğ¼ĞµĞ¶Ğ´Ñƒ 9 ÑƒÑ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸ÑĞ¼Ğ¸ Ğ½Ğ¸Ğ¶Ğµ.",
      title_complete:"Ğ¢ĞµÑÑ‚ Ğ·Ğ°Ğ²ĞµÑ€ÑˆÑ‘Ğ½", complete_p1:"ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾! Ğ’ÑĞµ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ñ‹ Ğ¿Ñ€Ğ¾Ğ¹Ğ´ĞµĞ½Ñ‹.", complete_p2:"ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚?",
      btn_view_report:"ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚", btn_back_prev:"â† ĞĞ°Ğ·Ğ°Ğ´", report_title:"Ğ’Ğ°ÑˆĞ¸ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ğ‘ĞµĞ»Ğ±Ğ¸Ğ½Ğ°",
      chart_radar:"Ğ Ğ°Ğ´Ğ°Ñ€", chart_bar:"Ğ¡Ñ‚Ğ¾Ğ»Ğ±Ñ†Ñ‹", chart_polar:"ĞŸĞ¾Ğ»ÑÑ€Ğ½Ğ°Ñ",
      top_roles_title:"Ğ’Ğ°ÑˆĞ¸ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ñ€Ğ¾Ğ»Ğ¸",
      btn_view_interpretation:"Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ¿Ñ€ĞµÑ‚Ğ°Ñ†Ğ¸Ñ", btn_restart:"Ğ¡Ğ±Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ", btn_back_report:"â† ĞĞ°Ğ·Ğ°Ğ´ Ğº Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚Ñƒ",
      interp_title:"ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ°Ñ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ¿Ñ€ĞµÑ‚Ğ°Ñ†Ğ¸Ñ", points_remaining:"ĞÑÑ‚Ğ°Ğ»Ğ¾ÑÑŒ Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ²",
      alert_need_creds:"Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¸Ğ¼Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ¸ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ", alert_wrong_creds:"ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğµ Ğ¸Ğ¼Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ¸Ğ»Ğ¸ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ",
      alert_pwd_mismatch:"ĞŸĞ°Ñ€Ğ¾Ğ»Ğ¸ Ğ½Ğµ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´Ğ°ÑÑ‚", alert_user_exists:"Ğ˜Ğ¼Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ ÑƒĞ¶Ğµ Ğ·Ğ°Ğ½ÑÑ‚Ğ¾", alert_register_ok:"Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾ÑˆĞ»Ğ° ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾. Ğ’Ğ¾Ğ¹Ğ´Ğ¸Ñ‚Ğµ.",
      alert_group_total:(n)=>`Ğ’Ñ‹ Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ğ»Ğ¸ ${n} Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ². ĞÑƒĞ¶Ğ½Ğ¾ Ñ€Ğ¾Ğ²Ğ½Ğ¾ 10.`,
      user_welcome:(name)=>`Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ, ${name}`, user_label:(name)=>`ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ: ${name}`,
      role_primary_title:(name, role)=>`${name}, Ğ²Ğ°ÑˆĞ° Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ Ñ€Ğ¾Ğ»ÑŒ: ${role}`,
      role_secondary_title:(name, role)=>`${name}, Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‡Ğ½Ğ°Ñ Ñ€Ğ¾Ğ»ÑŒ: ${role}`,
      role_secondary_hint:"Ğ­Ñ‚Ñƒ Ñ€Ğ¾Ğ»ÑŒ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ñ€Ğ°Ğ·Ğ²Ğ¸Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¸ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸.",
      section_desc:"ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ", section_strengths:"Ğ¡Ğ¸Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñ‹", section_weaknesses:"Ğ”Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ğ¼Ñ‹Ğµ ÑĞ»Ğ°Ğ±Ğ¾ÑÑ‚Ğ¸", section_contrib:"Ğ’ĞºĞ»Ğ°Ğ´",
      section_thanks_1:"Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾ Ğ·Ğ° Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ñ‚ĞµÑÑ‚Ğ° Ğ‘ĞµĞ»Ğ±Ğ¸Ğ½Ğ°!", section_thanks_2:"Ğ£ÑĞ¿ĞµÑ…Ğ¾Ğ²!",
      sign_org:"CTBU Â· Ğ¯Ğ½ Ğ¦Ğ¸Ğ½Ñ…ÑƒĞ°", chart_role_label:"Ğ‘Ğ°Ğ»Ğ»Ñ‹ Ñ€Ğ¾Ğ»Ğ¸"
    }},
    id:{ name:"Bahasa Indonesia", ui:{
      app_title:"Tes Peran Tim Belbin",
      label_username:"Nama pengguna", label_password:"Kata sandi", label_confirm_pwd:"Konfirmasi kata sandi",
      ph_username:"Masukkan nama pengguna", ph_password:"Masukkan kata sandi", ph_confirm_password:"Masukkan ulang kata sandi",
      btn_login:"Masuk", btn_register:"Daftar", btn_confirm_register:"Konfirmasi pendaftaran",
      btn_back_login:"â† Kembali ke Login",
      welcome_title:"Tes Peran Tim Belbin",
      motto_1:"Tak ada yang sempurna sendirian; tim bisa jadi sempurna.", motto_2:"Program: CTBU Â· Yan Qinghua",
      welcome_p1:"Selamat datang di tes Belbin!", welcome_p2:"Tes ini membantu memahami peran Anda di dalam tim.",
      welcome_p3:"Terdapat 7 bagian, masing-masing 9 pernyataan.", welcome_p4:"Setiap bagian memiliki 10 poin untuk dibagikan.",
      btn_start_test:"Mulai Tes", btn_back_home:"â† Beranda", btn_prev:"Bagian Sebelumnya", btn_next:"Bagian Berikutnya", btn_finish:"Selesai",
      test_instruction:"Bagikan tepat 10 poin ke 9 pernyataan di bawah.",
      title_complete:"Tes Selesai", complete_p1:"Bagus! Anda telah menyelesaikan semua bagian.", complete_p2:"Ingin melihat laporan?",
      btn_view_report:"Lihat Laporan", btn_back_prev:"â† Kembali", report_title:"Hasil Peran Tim Belbin Anda",
      chart_radar:"Radar", chart_bar:"Batang", chart_polar:"Polar Area",
      top_roles_title:"Peran Utama Anda",
      btn_view_interpretation:"Lihat Interpretasi Detail", btn_restart:"Mulai Ulang", btn_back_report:"â† Kembali ke Laporan",
      interp_title:"Interpretasi Peran Terperinci", points_remaining:"Sisa Poin",
      alert_need_creds:"Masukkan nama pengguna dan kata sandi", alert_wrong_creds:"Nama pengguna atau kata sandi salah",
      alert_pwd_mismatch:"Kata sandi tidak cocok", alert_user_exists:"Nama pengguna sudah ada", alert_register_ok:"Pendaftaran berhasil. Silakan masuk.",
      alert_group_total:(n)=>`Anda telah membagikan ${n} poin. Total harus tepat 10.`,
      user_welcome:(name)=>`Selamat datang, ${name}`, user_label:(name)=>`Pengguna: ${name}`,
      role_primary_title:(name, role)=>`${name}, peran utama Anda: ${role}`,
      role_secondary_title:(name, role)=>`${name}, peran sekunder Anda mungkin: ${role}`,
      role_secondary_hint:"Peran ini dapat dikembangkan sesuai kebutuhan.",
      section_desc:"Deskripsi", section_strengths:"Kekuatan", section_weaknesses:"Kelemahan yang Dapat Diterima", section_contrib:"Kontribusi",
      section_thanks_1:"Terima kasih telah mengikuti tes Belbin!", section_thanks_2:"Sukses selalu!",
      sign_org:"CTBU Â· Yan Qinghua", chart_role_label:"Skor Peran"
    }}
  };

  // Build parts and roles for each language
  const enParts = [
    { title:"Part 1: How I believe I contribute to a team", questions:[
      "I can quickly spot and seize new opportunities.","I work well with people of different types.","I usually sense what is realistic and what is possible.",
      "I get things done mainly through my own effort.","When I notice someone valuable to the team goal, I promptly bring them in.",
      "My professional knowledge and skills are my main asset.","When choosing a course of action, I can propose a reasonable alternative without bias.","I am a natural idea-generator.",
      "If the outcome is beneficial, I can tolerate initial indifference or pushback."
    ]},
    { title:"Part 2: My possible weaknesses in a team", questions:[
      "If a meeting is poorly organized or chaired, I feel uncomfortable.","My objectivity sometimes makes it hard to fit in socially with colleagues.",
      "Because I value group climate, I sometimes struggle to stand out.","I can get lost in sudden flights of imagination and forget ongoing work.",
      "Colleagues think I over-focus on details and worry unnecessarily about mistakes.","When something must be done, I can come across as forceful or even overbearing.",
      "I may be too tolerant of people who have good ideas but do not present them properly.","Iâ€™m reluctant to contribute unless the topic is highly relevant to me.","When new ideas are discussed, I tend to talk too much."
    ]},
    { title:"Part 3: When working with others", questions:[
      "I am among the first to present original insights.","I constantly guard against carelessness and oversight.","I can influence others without exerting pressure.",
      "I eagerly seek new thinking and developments.","I strive to uphold professional ethics.","I trust my judgment to help make the right decisions.",
      "I am willing to back positive suggestions for the common good.","I will press for action to ensure meetings aren't time-wasting or off-topic.","I reassure others by organizing the basics meticulously."
    ]},
    { title:"Part 4: My characteristics in a work team", questions:[
      "I am keen to learn more about my colleagues.","Though I consider all views, I still decide firmly when needed.","I often challenge othersâ€™ views or stand by my own.",
      "Once a plan must start, I can drive execution.","I deliberately avoid standing out or being unpredictable.","I enjoy connecting with people outside the team.",
      "Whatever task I take on, I pursue excellence.","In debates I usually find arguments to refute weak claims.","I contribute most when I am clear about the topic."
    ]},
    { title:"Part 5: Why I feel satisfied at work", questions:[
      "I like analyzing situations and weighing all options.","I feel I help the team by using my expertise.","I enjoy a space where imagination can flourish.",
      "I have a temperament that lets me devote myself wholeheartedly to work.","Iâ€™m interested in finding feasible solutions to problems.","I feel I promote good working relationships.",
      "I can adapt to people with novel ideas.","I help build consensus for necessary actions.","I can strongly influence decisions."
    ]},
    { title:"Part 6: If Iâ€™m suddenly given a tough task with limited time and unfamiliar people", questions:[
      "I will read as much as possible to seek guidance.","Despite difficulties, I keep the goal consistent.","Iâ€™ll open wide discussion to spark ideas and drive work forward.",
      "I can keep cool and think in an orderly way.","Iâ€™ll reduce workload by deploying people to their strengths.","Before a new plan emerges, I prefer to step aside and draft a way out.",
      "If the team stalls, I take active measures to push progress.","My natural sense of urgency helps us stay on schedule.","I prefer to work with those who show a positive attitude."
    ]},
    { title:"Part 7: Regarding problems encountered in team work", questions:[
      "I easily become impatient with those who block progress.","When I clash with true opposites, I canâ€™t always get my point across.","I dislike feeling my time is wasted and would rather work alone.",
      "For things I cannot do, I consciously seek help from others.","I may become bored and need one or two passionate people to lift me.","My strong desire for perfection can slow continuous progress.",
      "Others may say I over-analyze and lack intuition.","If the goal is unclear, itâ€™s hard for me to get started.","I sometimes struggle to explain or clarify complex issues I face."
    ]}
  ];

  // Roles translations for non-zh languages
  const roleKeys = ["IMP","CO","SH","PL","RI","ME","TW","CF","SP"];
  const zhRoles = (testData.roles || []).map((r,i)=>({code:roleKeys[i], name:r.name, description:r.description, strengths:r.strengths, weaknesses:r.weaknesses, contributions:r.contributions }));
  const enRoles = [
    {code:"IMP",name:"Implementer",description:"Pragmatic and reliable; turns ideas into actions.",strengths:"Disciplined, efficient, well-organized; converts concepts into practical tasks.",weaknesses:"May be inflexible and slow to respond to new possibilities; sometimes conservative.",contributions:"Translates decisions and concepts into manageable tasks and executes plans systematically."},
    {code:"CO",name:"Coordinator",description:"Mature and confident; clarifies goals and facilitates decisions.",strengths:"Clarifies objectives, delegates appropriately, identifies talent and resources.",weaknesses:"May be seen as manipulative or delegating own work; sometimes lacks hands-on input.",contributions:"Keeps the team focused on goals, facilitates decision-making, and unlocks membersâ€™ potential."},
    {code:"SH",name:"Shaper",description:"Challenging and dynamic; thrives under pressure and overcomes obstacles.",strengths:"Drives pace, challenges inertia and complacency, pushes the team forward.",weaknesses:"Can be provocative, impatient, and hurt othersâ€™ feelings; may trigger conflict.",contributions:"Provides energy and drive; raises performance standards especially under pressure."},
    {code:"PL",name:"Plant",description:"Creative and imaginative; solves difficult problems.",strengths:"Generates original ideas and strategies; solves complex issues.",weaknesses:"May ignore detail and get absorbed in ideas; sometimes poor at follow-through.",contributions:"Offers novel approaches and focuses on big issues to create innovative solutions."},
    {code:"RI",name:"Resource Investigator",description:"Outgoing and enthusiastic; explores opportunities and builds contacts.",strengths:"Communicative networker; spots opportunities and develops external links.",weaknesses:"May be over-optimistic and lose interest once initial enthusiasm fades.",contributions:"Explores external resources, develops useful contacts, and negotiates for team benefit."},
    {code:"ME",name:"Monitor Evaluator",description:"Sober and strategic; makes accurate judgments.",strengths:"Objective analysis, critical thinking, sound judgment.",weaknesses:"May lack drive to inspire others; can appear detached and critical.",contributions:"Weighs options carefully and steers the team away from poor decisions."},
    {code:"TW",name:"Teamworker",description:"Cooperative and perceptive; averts friction and supports others.",strengths:"Diplomatic, attentive, fosters harmony and cohesion in the team.",weaknesses:"May avoid confrontation and be indecisive at critical moments.",contributions:"Supports colleagues and helps maintain harmony, especially under pressure."},
    {code:"CF",name:"Completer Finisher",description:"Conscientious and detail-oriented; searches out errors and meets deadlines.",strengths:"Painstaking, quality-focused, detects omissions and ensures high standards.",weaknesses:"Reluctant to delegate, over-worries about small details, may lose sight of the big picture.",contributions:"Prevents careless mistakes, monitors critical tasks, and keeps a healthy sense of urgency."},
    {code:"SP",name:"Specialist",description:"Single-minded and self-motivated; provides rare skills and knowledge.",strengths:"Deep expertise and focus in a key domain; valuable technical contribution.",weaknesses:"Contribution may be narrow; may overlook the bigger picture and struggle to communicate with non-specialists.",contributions:"Provides specialist knowledge and solves technical problems in critical areas."}
  ];

  i18n.zh.parts = testData.parts;
  i18n.zh.roles = zhRoles;

  // For non-zh languages, reuse English parts; you can later replace with full translations
  ["en","fr","th","ru","id"].forEach(l=>{
    i18n[l].parts = enParts;
  });
  i18n.en.roles = enRoles;
  // For other languages, temporarily map roles to English names (can translate later)
  ["fr","th","ru","id"].forEach(l=>{ i18n[l].roles = enRoles; });

  // Expose i18n
  window._i18n = i18n;

  // Language state + helpers
  const state = { lang: localStorage.getItem('belbinLang') || 'zh' };
  function setLang(lang){
    state.lang = lang;
    localStorage.setItem('belbinLang', lang);
    document.getElementById('lang-current').textContent = i18n[lang].name;
    applyI18n();
    // re-render current screens if needed
    if(document.getElementById('welcome-screen')?.classList.contains('active')){ updateWelcomeTexts(); }
    if(document.getElementById('test-screen')?.classList.contains('active')){ loadTestPart(appState.currentPart); }
    if(document.getElementById('report-screen')?.classList.contains('active')){ showReportScreen(); }
    if(document.getElementById('interpretation-screen')?.classList.contains('active')){ showInterpretationScreen(); }
  }
  window.setLang = setLang;

  function t(key){ const v = i18n[state.lang].ui[key]; return (typeof v==='function')?v: (v ?? _i18n.en.ui[key] ?? key); }
  function tn(key, ...args){ const v = i18n[state.lang].ui[key]; return (typeof v==='function')?v(...args): (v ?? key); }
  window._t = t; window._tn = tn;

  function getParts(){ return i18n[state.lang].parts; }
  function getRoles(){ return i18n[state.lang].roles; }
  window._getParts = getParts; window._getRoles = getRoles;

  function updateWelcomeTexts(){
    const ws = document.getElementById('welcome-screen');
    if(!ws) return;
    ws.querySelector('h1').textContent = t('welcome_title');
    const motto = ws.querySelector('.motto');
    if(motto){
      motto.querySelector('.motto-line1').textContent = t('motto_1');
      motto.querySelector('.motto-line2').textContent = t('motto_2');
    }
    const msgs = ws.querySelectorAll('.welcome-message p');
    if(msgs.length>=4){
      msgs[0].textContent = t('welcome_p1');
      msgs[1].textContent = t('welcome_p2');
      msgs[2].textContent = t('welcome_p3');
      msgs[3].textContent = t('welcome_p4');
    }
    const startBtn = document.getElementById('start-test-btn');
    if(startBtn) startBtn.textContent = t('btn_start_test');
  }

  function applyI18n(){
    // Login
    const ls = document.getElementById('login-screen');
    if(ls){
      ls.querySelector('h1').textContent = t('app_title');
      const labels = ls.querySelectorAll('label');
      if(labels[0]) labels[0].textContent = t('label_username');
      if(labels[1]) labels[1].textContent = t('label_password');
      const u = document.getElementById('username'); if(u) u.placeholder = t('ph_username');
      const p = document.getElementById('password'); if(p) p.placeholder = t('ph_password');
      const lb = document.getElementById('login-btn'); if(lb) lb.textContent = t('btn_login');
      const rb = document.getElementById('register-btn'); if(rb) rb.textContent = t('btn_register');
    }
    // Register
    const rs = document.getElementById('register-screen');
    if(rs){
      rs.querySelector('h1') && (rs.querySelector('h1').textContent = t('btn_register'));
      const labels = rs.querySelectorAll('label');
      if(labels[0]) labels[0].textContent = t('label_username');
      if(labels[1]) labels[1].textContent = t('label_password');
      if(labels[2]) labels[2].textContent = t('label_confirm_pwd');
      const nu = document.getElementById('new-username'); if(nu) nu.placeholder = t('ph_username');
      const np = document.getElementById('new-password'); if(np) np.placeholder = t('ph_password');
      const cp = document.getElementById('confirm-password'); if(cp) cp.placeholder = t('ph_confirm_password');
      const cb = document.getElementById('confirm-register-btn'); if(cb) cb.textContent = t('btn_confirm_register');
      const back = document.getElementById('back-to-login-from-register'); if(back) back.textContent = t('btn_back_login');
    }
    // Welcome
    const backWel = document.getElementById('back-to-login-from-welcome'); if(backWel) backWel.textContent = t('btn_back_login');
    updateWelcomeTexts();

    // Test screen
    const bth = document.getElementById('back-to-welcome-from-test'); if(bth) bth.textContent = t('btn_back_home');
    const instr = document.querySelector('#test-screen .test-instructions p'); if(instr){ instr.innerHTML = `<strong>${t('test_instruction').split('ï¼š')[0]}ï¼š</strong>${t('test_instruction')}`; }
    const prev = document.getElementById('prev-part-btn'); if(prev) prev.textContent = t('btn_prev');
    const next = document.getElementById('next-part-btn'); if(next) next.textContent = t('btn_next');
    const prf = document.getElementById('points-remaining-fixed'); if(prf) prf.textContent = `${t('points_remaining')}: 10`;
    const prs = document.getElementById('points-remaining-sticky'); if(prs) prs.textContent = `${t('points_remaining')}: 10`;

    // Complete screen
    const btt = document.getElementById('back-to-test-from-complete'); if(btt) btt.textContent = t('btn_back_home');
    const tcs = document.getElementById('test-complete-screen'); 
    if(tcs){
      const h1 = tcs.querySelector('h1'); if(h1) h1.textContent = t('title_complete');
      const ps = tcs.querySelectorAll('p');
      if(ps[0]) ps[0].textContent = t('complete_p1');
      if(ps[1]) ps[1].textContent = t('complete_p2');
      const v = document.getElementById('view-report-btn'); if(v) v.textContent = t('btn_view_report');
    }

    // Report screen
    const br = document.getElementById('back-to-complete-from-report'); if(br) br.textContent = t('btn_back_prev');
    const rscr = document.getElementById('report-screen');
    if(rscr){
      const h2 = rscr.querySelector('h2'); if(h2) h2.textContent = t('report_title');
      const btns = rscr.querySelectorAll('.chart-type-btn');
      if(btns[0]) btns[0].textContent = t('chart_radar');
      if(btns[1]) btns[1].textContent = t('chart_bar');
      if(btns[2]) btns[2].textContent = t('chart_polar');
      const interBtn = document.getElementById('view-interpretation-btn'); if(interBtn) interBtn.textContent = t('btn_view_interpretation');
      const homeBtn = document.getElementById('back-to-welcome-from-report'); if(homeBtn) homeBtn.textContent = t('btn_back_home');
      const restartBtn = document.getElementById('restart-test-btn'); if(restartBtn) restartBtn.textContent = t('btn_restart');
      const topTitle = rscr.querySelector('.role-interpretation h3'); if(topTitle) topTitle.textContent = t('top_roles_title');
    }

    // Interpretation screen
    const bir = document.getElementById('back-to-report-from-interpretation'); if(bir) bir.textContent = t('btn_back_report');
    const ih2 = document.querySelector('#interpretation-screen h2'); if(ih2) ih2.textContent = t('interp_title');
  }

  // Override loadTestPart to use language parts + labels
  const _orig_load = window.loadTestPart;
  window.loadTestPart = function(partIndex){
    const parts = getParts();
    const part = parts[partIndex];
    document.getElementById('test-part-title').textContent = part.title;
    document.getElementById('prev-part-btn').style.display = partIndex > 0 ? 'block' : 'none';
    const nextBtn = document.getElementById('next-part-btn');
    if(nextBtn) nextBtn.textContent = partIndex < 6 ? t('btn_next') : t('btn_finish');

    const questionsContainer = document.getElementById('questions-container');
    questionsContainer.innerHTML = '';

    const sticky = document.createElement('div');
    sticky.className = 'points-remaining-sticky';
    sticky.id = 'points-remaining-sticky';
    sticky.textContent = `${t('points_remaining')}: 10`;
    questionsContainer.appendChild(sticky);

    part.questions.forEach((q, idx)=>{
      const wrap = document.createElement('div');
      wrap.className = 'question';
      wrap.innerHTML = `<p>${q}</p>
      <div class="slider-container">
        <input type="range" min="0" max="10" value="${appState.userAnswers[partIndex][idx]}" class="slider" data-part="${partIndex}" data-question="${idx}">
        <span class="slider-value">${appState.userAnswers[partIndex][idx]}</span>
      </div>`;
      questionsContainer.appendChild(wrap);
    });
    document.querySelectorAll('.slider').forEach(s=>s.addEventListener('input', function(e){
      const sld = e.target;
      const pi = +sld.getAttribute('data-part');
      const qi = +sld.getAttribute('data-question');
      const val = +sld.value;
      sld.nextElementSibling.textContent = val;
      appState.userAnswers[pi][qi] = val;
      updateRemainingPoints(pi);
    }));
    updateRemainingPoints(partIndex);
    const prf = document.getElementById('points-remaining-fixed');
    if(prf) prf.textContent = `${t('points_remaining')}: ${10 - (appState.userAnswers[partIndex]||[]).reduce((a,b)=>a+b,0)}`;
  };

  // Override displayTopRoles and showInterpretationScreen to use translated roles
  window.displayTopRoles = function(roleScores){
    const topRolesContainer = document.getElementById('top-roles');
    topRolesContainer.innerHTML = '';
    const roles = getRoles();
    const roleScoreArray = roleScores.map((score, index)=>({ role: roles[index], score, index }));
    roleScoreArray.sort((a,b)=>b.score-a.score);
    roleScoreArray.slice(0,3).forEach(item=>{
      const div = document.createElement('div');
      div.className = 'role-item';
      div.innerHTML = `<div class="role-name">${item.role.name}</div>
                       <div class="role-score">${t('chart_role_label')}: ${item.score}</div>
                       <p>${item.role.description}</p>`;
      topRolesContainer.appendChild(div);
    });
  };

  window.showInterpretationScreen = function(){
    const label = tn('user_label', appState.currentUser?.name || appState.currentUser?.username || '');
    document.getElementById('interpretation-user-info').textContent = label;
    const roles = getRoles();
    const arr = appState.roleScores.map((s,i)=>({s,i})).sort((a,b)=>b.s-a.s);
    let html = '';
    if(arr.length>0){
      const r1 = roles[arr[0].i];
      html += `<div class="interpretation-section">
        <h3>${tn('role_primary_title', appState.currentUser?.name || '', r1.name)}</h3>
        <p><strong>${t('section_desc')}ï¼š</strong>${r1.description}</p>
        <p><strong>${t('section_strengths')}ï¼š</strong>${r1.strengths}</p>
        <p><strong>${t('section_weaknesses')}ï¼š</strong>${r1.weaknesses}</p>
        <p><strong>${t('section_contrib')}ï¼š</strong>${r1.contributions}</p>
      </div>`;
    }
    if(arr.length>1){
      const r2 = roles[arr[1].i];
      html += `<div class="interpretation-section">
        <h3>${tn('role_secondary_title', appState.currentUser?.name || '', r2.name)}</h3>
        <p>${t('role_secondary_hint')}</p>
        <p><strong>${t('section_desc')}ï¼š</strong>${r2.description}</p>
        <p><strong>${t('section_strengths')}ï¼š</strong>${r2.strengths}</p>
        <p><strong>${t('section_weaknesses')}ï¼š</strong>${r2.weaknesses}</p>
        <p><strong>${t('section_contrib')}ï¼š</strong>${r2.contributions}</p>
      </div>`;
    }
    html += `<div class="interpretation-section"><p>${t('section_thanks_1')}</p><p>${t('section_thanks_2')}</p></div>
             <div class="signature"><p>${t('sign_org')}</p><p>${new Date().toLocaleDateString(state.lang==='zh'?'zh-CN':state.lang,{year:'numeric',month:'long',day:'numeric'})}</p></div>`;
    document.getElementById('role-details').innerHTML = html;
    document.getElementById('interpretation-screen').classList.add('active');
    document.getElementById('report-screen').classList.remove('active');
  };

  // Override updateChart to use translated labels and roles
  window.updateChart = function(chartType){
    const ctx = document.getElementById('results-chart').getContext('2d');
    if(appState.chart){ appState.chart.destroy(); }
    const roles = getRoles();
    const names = roles.map(r=>r.name);
    const scores = appState.roleScores;
    const pairs = scores.map((s,i)=>({s,i})).sort((a,b)=>b.s-a.s);
    const namesSorted = pairs.map(o=>names[o.i]);
    const scoresSorted = pairs.map(o=>o.s);
    const maxScore = Math.max(...scoresSorted);
    const second = scoresSorted.length>1 ? scoresSorted[1] : 0;

    switch(chartType){
      case 'radar':
        appState.chart = new Chart(ctx, {
          type: 'radar',
          data: { labels: names, datasets:[{ label: t('chart_role_label'), data: scores,
            backgroundColor:'rgba(52,152,219,.2)', borderColor:'rgba(52,152,219,1)', borderWidth:2,
            pointBackgroundColor: scores.map(v=> v===maxScore ? 'rgba(243,156,18,1)' : 'rgba(52,152,219,1)'),
            pointBorderColor:'#fff', pointBorderWidth:2, pointRadius:scores.map(v=> v===maxScore?8:5), pointHoverRadius:scores.map(v=> v===maxScore?10:7) }]},
          options:{ scales:{ r:{ angleLines:{display:true,color:'rgba(255,255,255,.1)'}, grid:{color:'rgba(255,255,255,.1)'},
            pointLabels:{color:'rgba(255,255,255,.85)',font:{size:12}}, ticks:{color:'rgba(255,255,255,.6)',backdropColor:'transparent'},
            suggestedMin:0, suggestedMax: Math.max(...scores)+5 }}, plugins:{ legend:{display:false} } }
        });
        break;
      case 'bar':
        appState.chart = new Chart(ctx, {
          type:'bar',
          data:{ labels:namesSorted, datasets:[{ label:t('chart_role_label'), data:scoresSorted, backgroundColor:scoresSorted.map(v=> v===maxScore?'rgba(243,156,18,.75)':(v===second?'rgba(46,204,113,.75)':'rgba(52,152,219,.75)')), borderColor:scoresSorted.map(v=> v===maxScore?'rgba(243,156,18,1)':(v===second?'rgba(46,204,113,1)':'rgba(52,152,219,1)')), borderWidth:1 }]},
          options:{ scales:{ y:{ beginAtZero:true, grid:{color:'rgba(255,255,255,.1)'}, ticks:{color:'rgba(255,255,255,.85)'} }, x:{ grid:{color:'rgba(255,255,255,.1)'}, ticks:{color:'rgba(255,255,255,.85)',maxRotation:45,minRotation:45} } }, plugins:{ legend:{display:false} } }
        });
        break;
      default:
        appState.chart = new Chart(ctx, {
          type:'polarArea',
          data:{ labels:namesSorted, datasets:[{ label:t('chart_role_label'), data:scoresSorted, backgroundColor:[ 'rgba(255,99,132,.7)','rgba(54,162,235,.7)','rgba(255,206,86,.7)','rgba(75,192,192,.7)','rgba(153,102,255,.7)','rgba(255,159,64,.7)','rgba(199,199,199,.7)','rgba(83,102,255,.7)','rgba(40,159,64,.7)'], borderWidth:1 }]},
          options:{ scales:{ r:{ grid:{color:'rgba(255,255,255,.1)'}, ticks:{ color:'rgba(255,255,255,.6)', backdropColor:'transparent' }, suggestedMin:0, suggestedMax: Math.max(...scoresSorted)+5 } } }
        });
    }
  };

  // Language toggle events
  document.addEventListener('DOMContentLoaded', function(){
    // Apply language immediately
    setLang(state.lang);
    // FAB
    const panel = document.getElementById('lang-panel');
    const toggle = document.getElementById('lang-toggle');
    if(toggle){
      toggle.addEventListener('click', ()=>{ panel.style.display = panel.style.display==='block'?'none':'block'; });
    }
    if(panel){
      panel.querySelectorAll('.lang-item').forEach(it=>{
        it.addEventListener('click', ()=>{ setLang(it.getAttribute('data-lang')); panel.style.display='none'; });
      });
    }
    document.addEventListener('click', (e)=>{
      const fab = document.querySelector('.lang-fab');
      if(fab && !fab.contains(e.target)) { if(panel) panel.style.display='none'; }
    });
  });
})();
</script>
<style id="remaining-points-hud-style">
.points-remaining-fixed{
  position: fixed; top: 72px; right: 24px; z-index: 2000;
  background: linear-gradient(145deg, #1f2937, #374151);
  color: #fff; padding: 10px 14px; border-radius: 999px;
  box-shadow: 0 10px 24px rgba(0,0,0,.35); font-weight: 700;
  letter-spacing: .3px; user-select: none; pointer-events: none;
}
.points-remaining-fixed.flash{
  animation: rpFlash .3s ease-in-out 1;
}
@keyframes rpFlash{
  0%{ background:#7f1d1d; }
  100%{ background: linear-gradient(145deg, #1f2937, #374151); }
}
.points-remaining-sticky{
  position: sticky; top: 8px; align-self: flex-start;
  background: rgba(0,0,0,.6); color: #fff; padding: 6px 10px;
  border-radius: 999px; display: inline-block; margin-bottom: 8px;
  font-weight: 600;
}
</style>
<script id="remaining-points-hud-logic">
(function(){
  function ensureFixedHUD(){
    let hud = document.getElementById('points-remaining-fixed');
    if(!hud){
      hud = document.createElement('div');
      hud.id = 'points-remaining-fixed';
      hud.className = 'points-remaining-fixed';
      hud.textContent = (window._t ? _t('points_remaining') : 'Points Left') + ': 10';
      document.body.appendChild(hud);
    }
    return hud;
  }

  // åŒ…è£…æç¤ºæ•ˆæœ
  function flashHUD(){
    const hud = ensureFixedHUD();
    hud.classList.remove('flash');
    void hud.offsetWidth; // reflow to restart animation
    hud.classList.add('flash');
  }

  // é‡å†™ updateRemainingPointsï¼Œç»Ÿä¸€åˆ·æ–° HUD ä¸ç²˜æ€§æç¤º
  const _origUpdate = window.updateRemainingPoints;
  window.updateRemainingPoints = function(partIndex){
    const arr = (window.appState && appState.userAnswers && appState.userAnswers[partIndex]) ? appState.userAnswers[partIndex] : [];
    const total = arr.reduce((a,b)=>a + (Number(b)||0), 0);
    let left = 10 - total;
    if(left < 0) left = 0; // åŒä¿é™©ï¼Œæ­£å¸¸ä¸ä¼šè§¦å‘
    const fixed = ensureFixedHUD();
    const label = (window._t ? _t('points_remaining') : 'Points Left');
    fixed.textContent = label + ': ' + left;

    const sticky = document.getElementById('points-remaining-sticky');
    if(sticky){ sticky.textContent = label + ': ' + left; }
    const fixed2 = document.getElementById('points-remaining-fixed'); // å¦ä¸€ä¸ªå¼•ç”¨
    if(fixed2 && fixed2 !== fixed){ fixed2.textContent = label + ': ' + left; }
  };

  // æ³¨å…¥å¯¹ slider çš„â€œç¡¬é™é¢â€é€»è¾‘ï¼ˆåœ¨ i18n è¦†å†™çš„ loadTestPart ä¹‹åå†ç»‘å®šï¼‰
  function bindClamp(){
    document.querySelectorAll('.slider').forEach(function(sld){
      // é¿å…é‡å¤ç»‘å®š
      if(sld.dataset._clamped) return;
      sld.dataset._clamped = "1";

      sld.addEventListener('input', function(e){
        const el = e.target;
        const pi = +el.getAttribute('data-part');
        const qi = +el.getAttribute('data-question');
        let val = +el.value;
        if(!window.appState || !appState.userAnswers || !appState.userAnswers[pi]) return;

        const before = appState.userAnswers[pi][qi] || 0;
        // å…ˆå†™å…¥ï¼Œå†æ£€æµ‹è¶…å‡º
        appState.userAnswers[pi][qi] = val;
        let sum = appState.userAnswers[pi].reduce((a,b)=>a + (Number(b)||0), 0);

        if(sum > 10){
          const excess = sum - 10;
          val = Math.max(0, val - excess);
          appState.userAnswers[pi][qi] = val;
          el.value = val;
          const disp = el.nextElementSibling;
          if(disp) disp.textContent = val;
          flashHUD();
          // è½»å¾®èœ‚é¸£ï¼ˆå¯é€‰ï¼‰ï¼šæŸäº›æµè§ˆå™¨æ— æ•ˆï¼Œå®‰å…¨å¿½ç•¥
          try{ if(window.navigator && navigator.vibrate){ navigator.vibrate(30); } }catch(_){}
        }

        // åˆ·æ–°å‰©ä½™åˆ†
        if(window.updateRemainingPoints) updateRemainingPoints(pi);
      });
    });
  }

  // ç›‘å¬æ¯æ¬¡ loadTestPart å®Œæˆåç»‘å®š
  const _origLoad = window.loadTestPart;
  if(_origLoad){
    window.loadTestPart = function(partIndex){
      const ret = _origLoad.apply(this, arguments);
      ensureFixedHUD();
      bindClamp();
      // åˆæ¬¡è¿›å…¥æ—¶åŒæ­¥ä¸€æ¬¡
      if(window.updateRemainingPoints) updateRemainingPoints(partIndex);
      return ret;
    };
  }else{
    // å¼‚å¸¸fallbackï¼šDOMContentLoadedåå°è¯•ç»‘å®šï¼ˆä¸å¤ªå¯èƒ½èµ°åˆ°ï¼‰
    document.addEventListener('DOMContentLoaded', function(){
      ensureFixedHUD();
      bindClamp();
      if(window.updateRemainingPoints) updateRemainingPoints(0);
    });
  }

  // åˆå§‹å°±æ”¾ä¸€ä¸ªHUDï¼Œé¿å…ç™½å±æ—¶æ— æç¤º
  document.addEventListener('DOMContentLoaded', function(){
    ensureFixedHUD();
  });
})();
</script>
<script id="remaining-points-hud-logic-v2">
(function(){
  // stronger ensure
  function ensureFixedHUDVisible(){
    const hud = document.getElementById('points-remaining-fixed');
    if(hud){
      hud.style.display = 'block';
      hud.style.position = 'fixed'; // guard
      return hud;
    }
    const n = document.createElement('div');
    n.id = 'points-remaining-fixed';
    n.className = 'points-remaining-fixed';
    n.textContent = (window._t ? _t('points_remaining') : 'Points Left') + ': 10';
    document.body.appendChild(n);
    return n;
  }

  function computeGroupTotal(partIndex){
    // primary: use DOM sliders to avoid any state-sync issue
    const sliders = document.querySelectorAll('.slider[data-part="'+partIndex+'"]');
    if(sliders && sliders.length){
      let sum = 0;
      sliders.forEach(s => { const v = Number(s.value)||0; sum += v; });
      return sum;
    }
    // fallback to appState
    if(window.appState && appState.userAnswers && appState.userAnswers[partIndex]){
      return appState.userAnswers[partIndex].reduce((a,b)=> a + (Number(b)||0), 0);
    }
    return 0;
  }

  // Hard clamp with DOM-based recompute
  function clampCurrentSlider(el, partIndex){
    let sum = computeGroupTotal(partIndex);
    if(sum > 10){
      const excess = sum - 10;
      let v = Number(el.value)||0;
      v = Math.max(0, v - excess);
      el.value = v;
      const disp = el.nextElementSibling; if(disp) disp.textContent = v;
      try{ if(navigator && navigator.vibrate){ navigator.vibrate(25); } }catch(_){}
      const hud = document.getElementById('points-remaining-fixed');
      if(hud){ hud.classList.remove('flash'); void hud.offsetWidth; hud.classList.add('flash'); }
      // keep state in sync if appState exists
      const pi = +el.getAttribute('data-part'); const qi = +el.getAttribute('data-question');
      if(window.appState && appState.userAnswers && appState.userAnswers[pi]){
        appState.userAnswers[pi][qi] = v;
      }
    }
  }

  function refreshRemaining(partIndex){
    const total = computeGroupTotal(partIndex);
    const left = Math.max(0, 10 - total);
    const label = (window._t ? _t('points_remaining') : 'Points Left');
    const fixed = ensureFixedHUDVisible();
    fixed.textContent = `${label}: ${left}`;
    const sticky = document.getElementById('points-remaining-sticky'); if(sticky){ sticky.textContent = `${label}: ${left}`; }
  }

  function bindAll(){
    ensureFixedHUDVisible();
    document.querySelectorAll('.slider').forEach(function(sld){
      if(sld.dataset._hud2) return; sld.dataset._hud2="1";
      sld.addEventListener('input', function(e){
        const el = e.target;
        const pi = +el.getAttribute('data-part') || (window.appState?appState.currentPart:0);
        // Update value mirror
        const v = Number(el.value)||0;
        const span = el.nextElementSibling; if(span){ span.textContent = v; }
        // Clamp if needed
        clampCurrentSlider(el, pi);
        // Refresh numbers
        refreshRemaining(pi);
      });
    });
  }

  // Intercept both loadTestPart and updateRemainingPoints (final overwrite)
  const _origLoad = window.loadTestPart;
  window.loadTestPart = function(partIndex){
    const ret = _origLoad ? _origLoad.apply(this, arguments) : undefined;
    bindAll();
    refreshRemaining(partIndex);
    return ret;
  };

  window.updateRemainingPoints = function(partIndex){
    refreshRemaining(partIndex);
  };

  document.addEventListener('DOMContentLoaded', function(){
    ensureFixedHUDVisible();
    bindAll();
    // if already in test screen, refresh
    if(document.getElementById('test-screen')?.classList.contains('active')){
      const pi = (window.appState?appState.currentPart:0);
      refreshRemaining(pi);
    }
  });
})();
</script>
<script id="goToNextPart-domtotal-fix">
(function(){
  function computeGroupTotalDom(partIndex){
    const sliders = document.querySelectorAll('.slider[data-part="'+partIndex+'"]');
    let sum = 0;
    sliders.forEach(s => { sum += Number(s.value) || 0; });
    return sum;
  }
  function syncDomToState(partIndex){
    if(!window.appState || !appState.userAnswers || !appState.userAnswers[partIndex]) return;
    const sliders = document.querySelectorAll('.slider[data-part="'+partIndex+'"]');
    sliders.forEach((s, i) => {
      appState.userAnswers[partIndex][i] = Number(s.value) || 0;
    });
  }
  // override
  window.goToNextPart = function(){
    const currentPart = appState.currentPart;
    // Always sync DOM -> state then compute
    syncDomToState(currentPart);
    const total = computeGroupTotalDom(currentPart);
    if (total !== 10) {
      const n = total; // already integer by slider steps
      const msg = (window._tn ? _tn('alert_group_total', n) : `æœ¬éƒ¨åˆ†æ‚¨å·²åˆ†é…äº†${n}åˆ†ï¼Œè¯·ç¡®ä¿æ€»åˆ†æ°å¥½ä¸º10åˆ†`);
      alert(msg);
      return;
    }
    if (currentPart < 6) {
      appState.currentPart++;
      // Reset HUD/sticky to 10 for new part
      if(window.updateRemainingPoints) updateRemainingPoints(appState.currentPart);
      loadTestPart(appState.currentPart);
    } else {
      // å®Œæˆæœ€åä¸€éƒ¨åˆ†
      saveTestResults();
      document.getElementById('test-screen').classList.remove('active');
      document.getElementById('test-complete-screen').classList.add('active');
    }
  };
})();
</script>
<script src="./sw-register.js"></script></body>
</html>